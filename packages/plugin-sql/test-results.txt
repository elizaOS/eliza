bun test v1.2.17 (282dda62)

src/tests/database-integrity.test.ts:
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Using custom SQLite from: /opt/homebrew/opt/sqlite3/lib/libsqlite3.dylib[39m
(pass) Database Integrity Tests > Dynamic Plugin Schema Migration > should detect PostgreSQL-specific schemas and log appropriately [1.32ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: plugin-trust[39m
[2025-07-12 20:48:19] WARN: [36m[CUSTOM MIGRATOR] Plugin plugin-trust uses PostgreSQL-specific features that are not compatible with SQLite. Skipping migration.[39m
[2025-07-12 20:48:19] INFO: [36m[CUSTOM MIGRATOR] To use plugin-trust, please use a PostgreSQL or PGLite adapter instead of SQLite.[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: plugin-trust[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: mock-sqlite-plugin[39m
[2025-07-12 20:48:19] INFO: [36mCreated table: test_table[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: mock-sqlite-plugin[39m
(pass) Database Integrity Tests > Dynamic Plugin Schema Migration > should handle SQLite-compatible schemas properly [1.76ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Dynamic Plugin Schema Migration > should perform basic operations on migrated SQLite table [0.31ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: mock-ops-plugin[39m
[2025-07-12 20:48:19] INFO: [36mCreated table: test_table_ops[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: mock-ops-plugin[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Database Adapter Core Methods > should have getWorlds method
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Database Adapter Core Methods > should execute getWorlds without errors
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Database Adapter Core Methods > should have all required adapter methods
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-plugin[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-plugin[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-plugin[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: test-plugin[39m
(pass) Database Integrity Tests > Plugin Schema Registration > should handle missing schema gracefully [0.23ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-plugin[39m
(pass) Database Integrity Tests > Plugin Schema Registration > should handle malformed schema gracefully [0.32ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: test-plugin[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Plugin Schema Registration > should create tables only once when called multiple times [0.67ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-multi[39m
[2025-07-12 20:48:19] INFO: [36mCreated table: test_table_multi[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: test-multi[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-multi[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: test-multi[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-multi[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: test-multi[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Error Prevention > should prevent "table does not exist" errors [1.36ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Running migrations for plugin: test-exists[39m
[2025-07-12 20:48:19] INFO: [36mCreated table: test_table_exists[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Successfully migrated schema for plugin: test-exists[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Database Integrity Tests > Error Prevention > should prevent "method does not exist" errors for adapter [0.04ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 193d0db8-df2e-4a44-b5cd-372ea41a7754[39m
    inMemory: true
    filename: ".eliza/bun-193d0db8-df2e-4a44-b5cd-372ea41a7754.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/tests/sqlite-vec-loading.test.ts:
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
âœ… Adapter initialized successfully on macOS
(pass) SQLite-vec Loading Tests > sqlite-vec loading with custom SQLite > should successfully load sqlite-vec when custom SQLite is available on macOS [2.57ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Adapter works with explicit custom SQLite path
(pass) SQLite-vec Loading Tests > sqlite-vec loading with custom SQLite > should work with explicit custom SQLite path [1.41ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Vector operations work correctly with sqlite-vec
(pass) SQLite-vec Loading Tests > sqlite-vec loading with custom SQLite > should handle vector operations correctly when sqlite-vec is loaded [1.69ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
ðŸ“‹ BunSqliteAdapter requires sqlite-vec extension for vector operations
ðŸ”§ Install SQLite with extension support: brew install sqlite (macOS)
ðŸ“¦ Install sqlite-vec: npm install sqlite-vec
(pass) SQLite-vec Loading Tests > Vector database requirements > should document sqlite-vec requirements when extension not available [0.05ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) SQLite-vec Loading Tests > Vector database requirements > should validate vector dimension support [0.23ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 64e55c33-1edb-4f68-baef-b863fa02d130[39m
    inMemory: true
    filename: ".eliza/bun-64e55c33-1edb-4f68-baef-b863fa02d130.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 3d97cc89-7fdc-49b2-964d-9bd39c35bbdd[39m
    inMemory: true
    filename: ".eliza/bun-3d97cc89-7fdc-49b2-964d-9bd39c35bbdd.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 632598c2-19e2-4084-93aa-5c3dd234592f[39m
    inMemory: true
    filename: ".eliza/bun-632598c2-19e2-4084-93aa-5c3dd234592f.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 200b30bb-889c-436a-9542-c53b15ab22ce[39m
    inMemory: true
    filename: ".eliza/bun-200b30bb-889c-436a-9542-c53b15ab22ce.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) SQLite-vec Loading Tests > Vector database requirements > should provide clear configuration options [0.89ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent fba2b1aa-ded2-44ad-a0a5-6747c9bd6159[39m
    inMemory: true
    filename: ".eliza/bun-fba2b1aa-ded2-44ad-a0a5-6747c9bd6159.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 262a2e08-f72a-4920-a616-8c90c81ff91c[39m
    inMemory: false
    filename: ".eliza/test-config-1752353299376.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent fccd204a-8635-4274-9a23-3b00e99c34e2[39m
    inMemory: true
    filename: ".eliza/bun-fccd204a-8635-4274-9a23-3b00e99c34e2.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 40e080a1-12f0-4672-89d3-ce43e3f20f30[39m
    inMemory: true
    filename: ".eliza/bun-40e080a1-12f0-4672-89d3-ce43e3f20f30.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… BunSqliteAdapter initialized successfully with sqlite-vec
(pass) SQLite-vec Loading Tests > Production environment compatibility > should work correctly when all requirements are met [0.08ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Database operations work correctly
(pass) SQLite-vec Loading Tests > Production environment compatibility > should handle database operations correctly [2.91ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Initialization provides helpful feedback when successful
(pass) SQLite-vec Loading Tests > Documentation and error guidance > should initialize successfully with helpful logging [1.49ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) SQLite-vec Loading Tests > Documentation and error guidance > should not have JSON fallback methods (removed per fail-fast requirement) [0.08ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0e08c74f-2e83-442b-b8b9-a605a4468088[39m
    inMemory: true
    filename: ".eliza/bun-0e08c74f-2e83-442b-b8b9-a605a4468088.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/tests/sqlite-vec-fail-fast.test.ts:
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: true
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
âœ… sqlite-vec is working correctly - skipping fail-fast test
(pass) SQLite-vec Fail-Fast Tests > Fail-fast behavior when sqlite-vec cannot be loaded > should throw error during initialization when sqlite-vec is unavailable [1.97ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… sqlite-vec works on darwin
âœ… sqlite-vec works on win32
âœ… sqlite-vec works on linux
(pass) SQLite-vec Fail-Fast Tests > Fail-fast behavior when sqlite-vec cannot be loaded > should be consistent across platforms [4.51ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 994f7702-e17f-42a5-93f2-82507cfff9df[39m
    inMemory: true
    filename: ".eliza/bun-994f7702-e17f-42a5-93f2-82507cfff9df.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent b8aff810-b4ef-42ec-b22e-47743afc0b80[39m
    inMemory: true
    filename: ".eliza/bun-b8aff810-b4ef-42ec-b22e-47743afc0b80.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 22c47120-7563-4096-8b34-13aca1ba58bb[39m
    inMemory: true
    filename: ".eliza/bun-22c47120-7563-4096-8b34-13aca1ba58bb.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… sqlite-vec works with 384 dimensions
âœ… sqlite-vec works with 768 dimensions
âœ… sqlite-vec works with 1536 dimensions
âœ… sqlite-vec works with 3072 dimensions
(pass) SQLite-vec Fail-Fast Tests > Fail-fast behavior when sqlite-vec cannot be loaded > should handle all vector dimensions correctly [6.22ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 939cafcb-02c0-44ab-a3e1-9c5867928f0d[39m
    inMemory: true
    filename: ".eliza/bun-939cafcb-02c0-44ab-a3e1-9c5867928f0d.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 2200e21c-4ec9-4e84-b0d8-2a5195b0af1c[39m
    inMemory: true
    filename: ".eliza/bun-2200e21c-4ec9-4e84-b0d8-2a5195b0af1c.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 8ddde2d9-4aca-4338-bfaf-53cfc8d9f80d[39m
    inMemory: true
    filename: ".eliza/bun-8ddde2d9-4aca-4338-bfaf-53cfc8d9f80d.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
âœ… loadExtension method works with sqlite-vec
(pass) SQLite-vec Fail-Fast Tests > Fail-fast behavior when sqlite-vec cannot be loaded > should verify loadExtension method behavior [1.20ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 3814759c-4ebc-42ff-80a9-dcf14d6500d4[39m
    inMemory: true
    filename: ".eliza/bun-3814759c-4ebc-42ff-80a9-dcf14d6500d4.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: true
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… sqlite-vec loaded successfully
(pass) SQLite-vec Fail-Fast Tests > Fail-fast behavior when sqlite-vec cannot be loaded > should provide clear feedback about sqlite-vec status [1.65ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: true
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) SQLite-vec Fail-Fast Tests > No JSON fallback functionality > should not have JSON-based vector search methods [0.08ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: true
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Vector operations work correctly with sqlite-vec
(pass) SQLite-vec Fail-Fast Tests > No JSON fallback functionality > should handle vector operations correctly when sqlite-vec is available [1.16ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: true
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Configuration works: {"inMemory":true}
âœ… Configuration works: {"inMemory":false,"filename":".eliza/test-fail-1752353299402.db"}
âœ… Configuration works: {"inMemory":true,"vectorDimensions":1536}
(pass) SQLite-vec Fail-Fast Tests > Error consistency across different failure scenarios > should handle different configuration scenarios consistently [8.13ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 61153e2e-cbdc-47c3-96aa-ea76fdc44af6[39m
    inMemory: true
    filename: ".eliza/bun-61153e2e-cbdc-47c3-96aa-ea76fdc44af6.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent c541ee8e-6eae-4f47-83f1-25ee31de3bed[39m
    inMemory: false
    filename: ".eliza/test-fail-1752353299402.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0561f4d1-f133-4b11-92f8-c28edd15ef2f[39m
    inMemory: true
    filename: ".eliza/bun-0561f4d1-f133-4b11-92f8-c28edd15ef2f.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… Production setup works correctly
(pass) SQLite-vec Fail-Fast Tests > Production readiness verification > should be production-ready when sqlite-vec is available [4.73ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: false
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… sqlite-vec is available and working
(pass) SQLite-vec Fail-Fast Tests > Production readiness verification > should provide clear guidance when sqlite-vec is not available [1.76ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent d5209750-3452-416d-b43a-64ee8fa9c3d0[39m
    inMemory: true
    filename: ".eliza/bun-d5209750-3452-416d-b43a-64ee8fa9c3d0.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/__tests__/sqlite-vec-loading.test.ts:
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
(pass) BunSqlite sqlite-vec Extension Loading > Vector Support Initialization > should initialize vector support without errors [2.81ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqlite sqlite-vec Extension Loading > Vector Support Initialization > should report vector support status correctly [1.43ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
(pass) BunSqlite sqlite-vec Extension Loading > Vector Support Initialization > should handle sqlite-vec extension loading gracefully [2.88ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqlite sqlite-vec Extension Loading > Vector Support Initialization > should support vector similarity search [2.48ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
(pass) BunSqlite sqlite-vec Extension Loading > Extension Loading Fallback > should handle missing sqlite-vec extension gracefully [1.77ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqlite sqlite-vec Extension Loading > Extension Loading Fallback > should create appropriate vector tables based on support [1.47ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqlite sqlite-vec Extension Loading > Vector Operations Performance > should perform vector operations within reasonable time [4.70ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
(pass) BunSqlite sqlite-vec Extension Loading > Error Handling > should handle invalid embeddings gracefully [1.64ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqlite sqlite-vec Extension Loading > Error Handling > should handle malformed search parameters [1.33ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqlite sqlite-vec Extension Loading > Extension Detection > should provide information about vector support capabilities [2.35ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5[39m
    inMemory: true
    filename: ".eliza/bun-7e2b0dd4-a777-4b94-ac70-c1fe3d8c12f5.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/__tests__/adapter-unified.test.ts:
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 0d62ef09-2083-4396-a01e-830bcc3065d9[39m
    inMemory: true
    filename: ".eliza/bun-0d62ef09-2083-4396-a01e-830bcc3065d9.db"
(pass) Unified Database Adapter Interface > BunSqliteAdapter Table Creation > should create all tables without syntax errors [2.59ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Unified Database Adapter Interface > BunSqliteAdapter Table Creation > should create task table specifically [1.16ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 653f65ae-2c84-4961-aa61-01a1d0889a03[39m
    inMemory: true
    filename: ".eliza/bun-653f65ae-2c84-4961-aa61-01a1d0889a03.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Unified Database Adapter Interface > BunSqliteAdapter Table Creation > should support basic CRUD operations on tasks table [1.76ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 1572ed5c-cf54-4d4d-8a43-145dfe39a8ed[39m
    inMemory: true
    filename: ".eliza/bun-1572ed5c-cf54-4d4d-8a43-145dfe39a8ed.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) Unified Database Adapter Interface > Schema Compatibility > should have all required core tables [1.37ms]
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Created for agent 3b059c8e-3fa0-48ec-a07f-574021cb229b[39m
    inMemory: true
    filename: ".eliza/bun-3b059c8e-3fa0-48ec-a07f-574021cb229b.db"
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:19] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/__tests__/vector-verification.test.ts:
[TEST] Using PostgreSQL for test database
[2025-07-12 20:48:19] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:19] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:19] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:19] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:19] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:20] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:20] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:20] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:21] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:21] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:21] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:21] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:21] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:21] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:21] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:21] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:21] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:21] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:22] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:22] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:22] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:22] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:22] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:22] INFO: [36mAll plugin migrations completed.[39m
âœ… PostgreSQL vector search working, similarity: 0.00951184047800879
(pass) Vector Support Verification > PostgreSQL Vector Support > should support vector operations with pgvector [392.74ms]
(skip) Vector Support Verification > PGLite Vector Support > should support vector operations with PGLite vector extension
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent cc34199f-9b48-48cb-9ef0-4f4b8acea372[39m
    inMemory: false
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-sqlite-vector-test-TVPv8i/test.db"
âœ… SQLite vector search working (JSON fallback), similarity: 0.009511768817901611
(pass) Vector Support Verification > BunSqlite Vector Support > should support vector operations with JSON fallback [4.53ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
âœ… All adapters provide consistent vector search interface
(pass) Vector Support Verification > Cross-Database Compatibility > should ensure all adapters provide consistent vector search interfaces [0.59ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent f31bc485-aee0-4860-81eb-b4f1a03f4c5b[39m
    inMemory: true
    filename: ".eliza/bun-f31bc485-aee0-4860-81eb-b4f1a03f4c5b.db"

src/__tests__/unit/utils.test.ts:
(pass) Utils > expandTildePath > should expand paths starting with ~ [0.36ms]
(pass) Utils > expandTildePath > should return unchanged paths not starting with ~
(pass) Utils > expandTildePath > should handle empty strings [0.01ms]
(pass) Utils > expandTildePath > should handle just tilde
(pass) Utils > resolveEnvFile > should find .env in current directory if it exists [0.05ms]
(pass) Utils > resolveEnvFile > should return .env path even if not found
(pass) Utils > resolvePgliteDir > should prioritize dir argument [0.05ms]
(pass) Utils > resolvePgliteDir > should use PGLITE_DATA_DIR env var if no dir provided [0.01ms]
(pass) Utils > resolvePgliteDir > should use default .eliza/.elizadb dir if no dir or env var [0.01ms]
(pass) Utils > resolvePgliteDir > should use default path if no arguments or env var [0.01ms]
(pass) Utils > resolvePgliteDir > should expand tilde paths

src/__tests__/unit/index.test.ts:
(pass) SQL Plugin > Plugin Structure > should have correct plugin metadata [0.01ms]
(pass) SQL Plugin > Plugin Structure > should have schema defined
(pass) SQL Plugin > Plugin Structure > should have init function
[2025-07-12 20:48:23] INFO: [36mplugin-sql init starting...[39m
(pass) SQL Plugin > Plugin Initialization > should skip initialization if adapter already exists [0.24ms]
[2025-07-12 20:48:23] INFO: [36mDatabase adapter already registered, skipping creation[39m
(pass) SQL Plugin > Plugin Initialization > should register database adapter when none exists [1.48ms]
[2025-07-12 20:48:23] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:48:23] INFO: [36mDatabase adapter created, initialized, and registered[39m
[2025-07-12 20:48:23] INFO: [36mplugin-sql init starting...[39m
(pass) SQL Plugin > Plugin Initialization > should use POSTGRES_URL when available [0.44ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PostgreSQL adapter (URL provided)[39m
[2025-07-12 20:48:23] INFO: [36mDatabase adapter created, initialized, and registered[39m
[2025-07-12 20:48:23] INFO: [36mplugin-sql init starting...[39m
(pass) SQL Plugin > Plugin Initialization > should prioritize PGLITE_PATH over DATABASE_PATH [1.01ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:48:23] INFO: [36mDatabase adapter created, initialized, and registered[39m
[2025-07-12 20:48:23] INFO: [36mplugin-sql init starting...[39m
(pass) SQL Plugin > Plugin Initialization > should use DATABASE_PATH if PGLITE_PATH is not set [0.51ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:48:23] INFO: [36mDatabase adapter created, initialized, and registered[39m
(pass) SQL Plugin > Plugin Initialization > should use default path if neither PGLITE_PATH nor DATABASE_PATH is set [0.25ms]
[2025-07-12 20:48:23] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:48:23] INFO: [36mDatabase adapter created, initialized, and registered[39m
(pass) SQL Plugin > createDatabaseAdapter > should create PgDatabaseAdapter when postgresUrl is provided [0.04ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PostgreSQL adapter (URL provided)[39m
(pass) SQL Plugin > createDatabaseAdapter > should create PgliteDatabaseAdapter when no postgresUrl is provided [0.19ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
(pass) SQL Plugin > createDatabaseAdapter > should use default dataDir when none provided [0.15ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
(pass) SQL Plugin > createDatabaseAdapter > should reuse singleton managers [0.08ms]
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PostgreSQL adapter (URL provided)[39m
[2025-07-12 20:48:23] INFO: [36m[plugin-sql] Using PostgreSQL adapter (URL provided)[39m

src/__tests__/unit/migration-service.test.ts:
(pass) DatabaseMigrationService > constructor > should create an instance
[2025-07-12 20:48:23] INFO: [36mDatabaseMigrationService initialized with database[39m
(pass) DatabaseMigrationService > initializeWithDatabase > should initialize with database [0.11ms]
[2025-07-12 20:48:23] INFO: [36mRegistered schema for plugin: plugin1[39m
(pass) DatabaseMigrationService > discoverAndRegisterPluginSchemas > should register plugins with schemas [0.09ms]
[2025-07-12 20:48:23] INFO: [36mRegistered schema for plugin: plugin2[39m
[2025-07-12 20:48:23] INFO: [36mDiscovered 2 plugin schemas out of 3 plugins[39m
(pass) DatabaseMigrationService > discoverAndRegisterPluginSchemas > should handle empty plugin array [0.07ms]
[2025-07-12 20:48:23] INFO: [36mDiscovered 0 plugin schemas out of 0 plugins[39m
(pass) DatabaseMigrationService > discoverAndRegisterPluginSchemas > should handle plugins without schemas [0.02ms]
[2025-07-12 20:48:23] INFO: [36mDiscovered 0 plugin schemas out of 2 plugins[39m
(pass) DatabaseMigrationService > runAllPluginMigrations > should throw if database not initialized [0.04ms]
[2025-07-12 20:48:23] INFO: [36mDatabaseMigrationService initialized with database[39m
(pass) DatabaseMigrationService > runAllPluginMigrations > should run migrations for registered plugins [0.53ms]
[2025-07-12 20:48:23] INFO: [36mRegistered schema for plugin: plugin1[39m
[2025-07-12 20:48:23] INFO: [36mRegistered schema for plugin: plugin2[39m
[2025-07-12 20:48:23] INFO: [36mDiscovered 2 plugin schemas out of 2 plugins[39m
[2025-07-12 20:48:23] INFO: [36mRunning migrations for 2 plugins...[39m
[2025-07-12 20:48:23] INFO: [36mStarting migration for plugin: plugin1[39m
[2025-07-12 20:48:23] INFO: [36mStarting migration for plugin: plugin2[39m
[2025-07-12 20:48:23] INFO: [36mAll plugin migrations completed.[39m
(pass) DatabaseMigrationService > runAllPluginMigrations > should handle migration errors [3.19ms]
[2025-07-12 20:48:23] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:23] INFO: [36mRegistered schema for plugin: error-plugin[39m
[2025-07-12 20:48:23] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:23] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:23] INFO: [36mStarting migration for plugin: error-plugin[39m
[2025-07-12 20:48:23] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:23] INFO: [36mDatabaseMigrationService initialized with database[39m
(pass) DatabaseMigrationService > runAllPluginMigrations > should run migrations even with no plugins [0.24ms]
[2025-07-12 20:48:23] INFO: [36mRunning migrations for 0 plugins...[39m
[2025-07-12 20:48:23] INFO: [36mAll plugin migrations completed.[39m

src/__tests__/unit/bun-sqlite-adapter.test.ts:
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
(pass) BunSqliteAdapter > Initialization > should initialize successfully [1.72ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Initialization > should have correct agentId [0.02ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Basic Operations > should create and retrieve a memory [0.43ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Basic Operations > should list tables [0.16ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Vector Operations > should store and search embeddings [0.70ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Agent Operations > should create and retrieve an agent [0.39ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Room Operations > should create and retrieve a room [0.67ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Entity Operations > should create and retrieve an entity [0.28ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Error Handling > should handle missing memory gracefully [0.03ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
(pass) BunSqliteAdapter > Error Handling > should handle missing agent gracefully [0.04ms]
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Created for agent d0caca44-84bb-4207-b10f-47c50daed091[39m
    inMemory: true
    filename: ".eliza/bun-d0caca44-84bb-4207-b10f-47c50daed091.db"
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:23] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/__tests__/integration/relationship.test.ts:
[2025-07-12 20:48:23] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:23] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:23] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:23] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:23] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:24] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:24] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:24] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:24] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:24] INFO: [36mAll plugin migrations completed.[39m
(pass) Relationship Integration Tests > Relationship Tests > should create and retrieve a relationship [6.58ms]
(pass) Relationship Integration Tests > Relationship Tests > should update an existing relationship [3.90ms]
(pass) Relationship Integration Tests > Relationship Tests > should retrieve relationships by entity ID and tags [3.75ms]

src/__tests__/integration/base-comprehensive.test.ts:
[2025-07-12 20:48:24] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:24] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:24] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:24] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:24] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:25] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:25] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:25] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:25] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:25] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Comprehensive Tests > Entity Methods > should handle getEntitiesByNames with exact match [11.16ms]
(pass) Base Adapter Comprehensive Tests > Entity Methods > should handle searchEntitiesByName with limit [8.12ms]
(pass) Base Adapter Comprehensive Tests > Entity Methods > should handle deleteEntity with cascade [5.69ms]
(pass) Base Adapter Comprehensive Tests > Memory Operations > should handle memory operations with all fields [5.89ms]
[2025-07-12 20:48:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Comprehensive Tests > Memory Operations > should handle getMemoriesByRoomIds with multiple rooms [7.43ms]
[2025-07-12 20:48:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
[2025-07-12 20:48:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Comprehensive Tests > Component Operations > should handle component CRUD with all fields [4.80ms]
[2025-07-12 20:48:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Comprehensive Tests > Room Operations > should handle room operations with world relationships [4.48ms]
[2025-07-12 20:48:25] ERROR: [36mError adding participants[39m
    entityIdSample: "74a4fc67-f1a4-4adc-afea-179434a654c2"
    roomId: "d1157a47-4088-46ec-8e82-16185247381f"
    agentId: "dcf068b8-1636-4605-8898-b38f4a8077e5"
    error: "Failed query: insert into \"participants\" (\"id\", \"created_at\", \"entity_id\", \"room_id\", \"agent_id\", \"room_state\") values (default, $1, $2, $3, $4, default) on conflict do nothing\nparams: 2025-07-12T20:48:25.350Z,74a4fc67-f1a4-4adc-afea-179434a654c2,d1157a47-4088-46ec-8e82-16185247381f,dcf068b8-1636-4605-8898-b38f4a8077e5"
(pass) Base Adapter Comprehensive Tests > Search Operations > should handle searchMemoriesByEmbedding [6.36ms]
(pass) Base Adapter Comprehensive Tests > Search Operations > should handle getCachedEmbeddings [4.16ms]
(pass) Base Adapter Comprehensive Tests > Edge Cases > should handle operations with missing optional fields [3.52ms]
[2025-07-12 20:48:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Comprehensive Tests > Edge Cases > should handle batch operations correctly [4.75ms]

src/__tests__/integration/utils.test.ts:
(pass) Utils Integration Tests > expandTildePath > should expand ~ to current working directory [0.63ms]
(pass) Utils Integration Tests > expandTildePath > should not change paths without ~ [0.04ms]
(pass) Utils Integration Tests > expandTildePath > should handle just ~ alone [0.02ms]
(pass) Utils Integration Tests > expandTildePath > should handle empty string
(pass) Utils Integration Tests > resolveEnvFile > should find .env in current directory [0.15ms]
(pass) Utils Integration Tests > resolveEnvFile > should traverse up directories to find .env [0.23ms]
(pass) Utils Integration Tests > resolveEnvFile > should return .env path in start directory if not found
(pass) Utils Integration Tests > resolveEnvFile > should use current working directory if no startDir provided
(pass) Utils Integration Tests > resolvePgliteDir > should use provided dir argument [0.03ms]
(pass) Utils Integration Tests > resolvePgliteDir > should use PGLITE_DATA_DIR environment variable [0.03ms]
(pass) Utils Integration Tests > resolvePgliteDir > should use fallback dir when no dir or env var
(pass) Utils Integration Tests > resolvePgliteDir > should use default path when no arguments or env var [0.02ms]
(pass) Utils Integration Tests > resolvePgliteDir > should load .env file if it exists [0.16ms]
(pass) Utils Integration Tests > resolvePgliteDir > should expand tilde paths [0.02ms]
(pass) Utils Integration Tests > resolvePgliteDir > should migrate legacy path to new location

src/__tests__/integration/cache.test.ts:
[2025-07-12 20:48:25] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:25] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:25] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:25] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:25] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:26] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:26] INFO: [36mAll plugin migrations completed.[39m
(pass) Cache Integration Tests > Cache Tests > should set and get a simple string value [2.39ms]
(pass) Cache Integration Tests > Cache Tests > should set and get a complex object value [1.28ms]
(pass) Cache Integration Tests > Cache Tests > should update an existing cache value [5.80ms]
(pass) Cache Integration Tests > Cache Tests > should delete a cache value [1.53ms]
(pass) Cache Integration Tests > Cache Tests > should return undefined for a non-existent key [0.44ms]

src/__tests__/integration/embedding.test.ts:
[2025-07-12 20:48:26] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:26] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:26] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:26] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:26] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:26] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:26] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:26] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:26] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:26] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:26] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Embedding Integration Tests > Embedding Tests > should create a memory with an embedding and retrieve it [7.45ms]
(pass) Embedding Integration Tests > Embedding Tests > should handle different embedding dimensions [6.87ms]

src/__tests__/integration/log.test.ts:
[2025-07-12 20:48:27] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:27] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:27] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:27] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:27] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:27] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:27] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:27] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:27] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:27] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:27] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Log Integration Tests > Log Tests > should create and retrieve a log entry [2.54ms]
(pass) Log Integration Tests > Log Tests > should not throw when deleting a non-existent log [0.31ms]
(pass) Log Integration Tests > Log Tests > should filter logs by type [2.11ms]

src/__tests__/integration/world.test.ts:
[2025-07-12 20:48:27] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:27] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:27] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:27] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:27] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:28] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:28] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:28] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:28] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:28] INFO: [36mAll plugin migrations completed.[39m
(pass) World Integration Tests > World Tests > should create and retrieve a world [1.39ms]
[2025-07-12 20:48:28] ERROR: [36mError creating world:[39m
    worldId: "bf680b22-206c-4988-b216-164a04225a56"
    error: "Failed query: insert into \"worlds\" (\"id\", \"agent_id\", \"name\", \"metadata\", \"server_id\", \"created_at\", \"updated_at\") values ($1, $2, $3, $4, $5, $6, $7)\nparams: bf680b22-206c-4988-b216-164a04225a56,2ede4bdd-bbf4-4923-a6de-f5f039870ad1,Test World 2,,server2,2025-07-12T20:48:28.490Z,2025-07-12T20:48:28.490Z"
(pass) World Integration Tests > World Tests > should not create a world with a duplicate id [1.37ms]
(pass) World Integration Tests > World Tests > should update an existing world [1.52ms]
(pass) World Integration Tests > World Tests > should only update the specified world [2.37ms]
(pass) World Integration Tests > World Tests > should delete a world [2.41ms]
(pass) World Integration Tests > World Tests > should return null when retrieving a non-existent world [0.36ms]
(pass) World Integration Tests > World Tests > should retrieve all worlds for an agent [1.37ms]
(pass) World Integration Tests > World Tests > should return an empty array if no worlds exist [0.18ms]

src/__tests__/integration/base-adapter-methods.test.ts:
[2025-07-12 20:48:28] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:28] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:28] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:28] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:28] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:29] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:29] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle getMemories with various filters [6.39ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle getMemoriesByRoomIds [4.87ms]
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle updateEntity [1.87ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle updateMemory [3.10ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle updateComponent [4.19ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle deleteComponent [3.02ms]
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle deleteEntity [2.11ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle removeMemory using deleteMemory [3.08ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle deleteRoom [1.95ms]
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle entity operations with metadata [1.08ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > CRUD Operations > should handle component operations with complex params [2.76ms]
(pass) Base Adapter Methods Integration Tests > Search and Filtering > should search entities by name and limit results [2.94ms]
[2025-07-12 20:48:29] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) Base Adapter Methods Integration Tests > Search and Filtering > should handle complex memory searches [5.36ms]
[2025-07-12 20:48:29] WARN: [36mEntity creation error - analyzing for constraint violations:[39m
    errorMessage: "Failed query: insert into \"entities\" (\"id\", \"agent_id\", \"names\", \"metadata\", \"created_at\", \"updated_at\") values ($1, $2, $3, $4, $5, $6)\nparams: fb64fcd3-536b-4fae-8e47-1d30404bad1c,066a036f-84d0-4a72-a4af-7f8268f89b3d,[\"Test Entity\"],{\"type\":\"test\"},2025-07-12T20:48:29.331Z,2025-07-12T20:48:29.331Z"
    errorType: "DrizzleQueryError"
    entityId: "fb64fcd3-536b-4fae-8e47-1d30404bad1c"
    fullError: {
      "query": "insert into \"entities\" (\"id\", \"agent_id\", \"names\", \"metadata\", \"created_at\", \"updated_at\") values ($1, $2, $3, $4, $5, $6)",
      "params": [
        "fb64fcd3-536b-4fae-8e47-1d30404bad1c",
        "066a036f-84d0-4a72-a4af-7f8268f89b3d",
        "[\"Test Entity\"]",
        "{\"type\":\"test\"}",
        "2025-07-12T20:48:29.331Z",
        "2025-07-12T20:48:29.331Z"
      ],
      "cause": {
        "length": 224,
        "name": "error",
        "severity": "ERROR",
        "code": "23505",
        "detail": "Key (id)=(fb64fcd3-536b-4fae-8e47-1d30404bad1c) already exists.",
        "schema": "public",
        "table": "entities",
        "constraint": "entities_pkey",
        "file": "nbtinsert.c",
        "routine": "_bt_check_unique"
      }
    }
(pass) Base Adapter Methods Integration Tests > Error Handling > should handle duplicate entity creation gracefully [2.21ms]
[2025-07-12 20:48:29] ERROR: [36mError creating entity:[39m
    entityId: "fb64fcd3-536b-4fae-8e47-1d30404bad1c"
    entity: {
      "id": "fb64fcd3-536b-4fae-8e47-1d30404bad1c",
      "agentId": "066a036f-84d0-4a72-a4af-7f8268f89b3d",
      "names": [
        "Test Entity"
      ],
      "metadata": {
        "type": "test"
      }
    }
    error: "Failed query: insert into \"entities\" (\"id\", \"agent_id\", \"names\", \"metadata\", \"created_at\", \"updated_at\") values ($1, $2, $3, $4, $5, $6)\nparams: fb64fcd3-536b-4fae-8e47-1d30404bad1c,066a036f-84d0-4a72-a4af-7f8268f89b3d,[\"Test Entity\"],{\"type\":\"test\"},2025-07-12T20:48:29.331Z,2025-07-12T20:48:29.331Z"
(pass) Base Adapter Methods Integration Tests > Error Handling > should handle updating non-existent entity [0.72ms]
[2025-07-12 20:48:29] WARN: [36mRoom c45f70aa-5c5a-479c-b20b-5950efa29839 not found during deletion attempt[39m
(pass) Base Adapter Methods Integration Tests > Error Handling > should handle removing non-existent items [2.34ms]

src/__tests__/integration/postgres-adapter.test.ts:
[2025-07-12 20:48:29] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:29] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:29] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:29] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:29] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:29] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:29] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:29] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:29] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:29] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Connection Management > should initialize successfully
[2025-07-12 20:48:30] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:30] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:30] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:30] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:30] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:30] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:30] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:30] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:30] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:30] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Connection Management > should get database connection
[2025-07-12 20:48:31] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:31] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:31] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:31] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:31] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:31] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:31] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:31] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:31] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:31] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Connection Management > should close connection gracefully [2.28ms]
[2025-07-12 20:48:32] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:32] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:32] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:32] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:32] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:32] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:32] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:32] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:32] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:32] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Connection Management > should handle isReady when adapter is closed [1.47ms]
[2025-07-12 20:48:32] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:32] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:32] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:32] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:32] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:33] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:33] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:33] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:33] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:33] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Database Operations > should perform withDatabase operation [0.15ms]
[2025-07-12 20:48:33] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:33] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:33] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:33] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:33] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:34] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:34] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:34] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:34] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:34] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Database Operations > should handle withDatabase errors
[2025-07-12 20:48:34] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:34] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:34] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:34] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:34] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:35] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:35] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:35] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:35] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:35] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Database Operations > should handle database operations [0.06ms]
[2025-07-12 20:48:35] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:35] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:35] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:35] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:35] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:36] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:36] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Database Operations > should propagate errors from database operations [0.17ms]
[2025-07-12 20:48:36] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:36] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:36] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:36] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:36] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:36] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:36] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:36] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:36] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:37] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Manager Operations > should get connection instance [0.02ms]
[2025-07-12 20:48:37] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:37] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:37] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:37] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:37] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:37] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:37] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:37] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:37] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:37] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Manager Operations > should check if shutting down
[2025-07-12 20:48:38] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:38] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:38] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:38] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:38] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:38] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:38] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:38] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:38] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:38] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Manager Operations > should handle close operation [1.74ms]
[2025-07-12 20:48:39] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:39] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:39] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:39] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:39] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:39] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:39] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:39] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:39] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:39] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Manager Operations > should test connection through adapter [0.11ms]
[2025-07-12 20:48:39] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:39] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:39] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:39] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:39] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:40] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:40] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:40] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:40] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:40] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Manager Operations > should handle connection errors [1.96ms]
[2025-07-12 20:48:40] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:40] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:40] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:40] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:40] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:41] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:41] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:41] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:41] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:41] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Manager Operations > should handle query failures [406.72ms]
[2025-07-12 20:48:42] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:42] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:42] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:42] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:42] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:42] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:42] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:42] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:42] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:43] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Agent Operations > should create an agent [1.96ms]
[2025-07-12 20:48:43] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:43] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:43] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:43] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:43] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:43] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:43] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:43] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:43] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:43] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Agent Operations > should retrieve an agent [1.98ms]
[2025-07-12 20:48:44] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:44] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:44] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:44] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:44] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:44] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:44] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:44] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:44] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:44] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Agent Operations > should update an agent [2.56ms]
[2025-07-12 20:48:45] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:45] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:45] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:45] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:45] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:45] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:45] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:45] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:45] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:45] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Integration Tests > Agent Operations > should delete an agent [4.24ms]

src/__tests__/integration/migration-comprehensive.test.ts:
[2025-07-12 20:48:45] INFO: [36m[plugin-sql] forcePglite is true, using PGLite adapter[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
(pass) Comprehensive Migration Tests > PGLite Adapter > should run comprehensive migrations successfully [32.15ms]
[2025-07-12 20:48:45] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:45] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:45] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:45] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:45] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:45] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:45] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[TEST DEBUG] About to register test plugin for PGLite
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
[TEST DEBUG] Test plugin registered for PGLite
[DEBUG] Adapter name: PGLite
[DEBUG] Database type: object
[DEBUG] Using PostgreSQL query for adapter: PGLite
[DEBUG] Tables before migration: [
  {
    table_name: "user_organizations",
  }, {
    table_name: "posts",
  }, {
    table_name: "comments",
  }, {
    table_name: "categories",
  }, {
    table_name: "post_categories",
  }, {
    table_name: "audit_logs",
  }, {
    table_name: "users",
  }, {
    table_name: "organizations",
  }
]
[TEST DEBUG] About to run migrations for PGLite
[TEST DEBUG] Migrations complete for PGLite
[DEBUG] Tables after migration: [
  {
    table_name: "user_organizations",
  }, {
    table_name: "posts",
  }, {
    table_name: "comments",
  }, {
    table_name: "categories",
  }, {
    table_name: "post_categories",
  }, {
    table_name: "audit_logs",
  }, {
    table_name: "users",
  }, {
    table_name: "organizations",
  }
]
(pass) Comprehensive Migration Tests > PGLite Adapter > should create all tables with correct schema [31.74ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forcePglite is true, using PGLite adapter[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forcePglite is true, using PGLite adapter[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
(pass) Comprehensive Migration Tests > PGLite Adapter > should handle constraint violations correctly [27.81ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forcePglite is true, using PGLite adapter[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
(pass) Comprehensive Migration Tests > PGLite Adapter > should handle cascade deletes correctly [26.62ms]
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
(pass) Comprehensive Migration Tests > PGLite Adapter > should support complex queries with multiple joins [26.83ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forcePglite is true, using PGLite adapter[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
(pass) Comprehensive Migration Tests > Bun SQLite Adapter > should run comprehensive migrations successfully [1.82ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forceBunSqlite is true, using BunSqlite adapter[39m
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] Using BunSqlite adapter (forced)[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Created for agent d4926dff-b29b-4ed3-b532-dab8fb231cff[39m
    inMemory: false
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-bunsqlite-test-7qyBx8/bun-d4926dff-b29b-4ed3-b532-dab8fb231cff.db"
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: users[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: user_organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: posts[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: comments[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: post_categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: audit_logs[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[TEST DEBUG] About to register test plugin for Bun SQLite
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
[TEST DEBUG] Test plugin registered for Bun SQLite
[DEBUG] Adapter name: Bun SQLite
[DEBUG] Database type: object
[DEBUG] Using SQLite query for adapter: Bun SQLite
[DEBUG] Tables before migration: [
  {
    table_name: "vec_embeddings_384",
  }, {
    table_name: "vec_embeddings_384_info",
  }, {
    table_name: "vec_embeddings_384_chunks",
  }, {
    table_name: "sqlite_sequence",
  }, {
    table_name: "vec_embeddings_384_rowids",
  }, {
    table_name: "vec_embeddings_384_vector_chunks00",
  }, {
    table_name: "vec_embeddings_512",
  }, {
    table_name: "vec_embeddings_512_info",
  }, {
    table_name: "vec_embeddings_512_chunks",
  }, {
    table_name: "vec_embeddings_512_rowids",
  }, {
    table_name: "vec_embeddings_512_vector_chunks00",
  }, {
    table_name: "vec_embeddings_768",
  }, {
    table_name: "vec_embeddings_768_info",
  }, {
    table_name: "vec_embeddings_768_chunks",
  }, {
    table_name: "vec_embeddings_768_rowids",
  }, {
    table_name: "vec_embeddings_768_vector_chunks00",
  }, {
    table_name: "vec_embeddings_1024",
  }, {
    table_name: "vec_embeddings_1024_info",
  }, {
    table_name: "vec_embeddings_1024_chunks",
  }, {
    table_name: "vec_embeddings_1024_rowids",
  }, {
    table_name: "vec_embeddings_1024_vector_chunks00",
  }, {
    table_name: "vec_embeddings_1536",
  }, {
    table_name: "vec_embeddings_1536_info",
  }, {
    table_name: "vec_embeddings_1536_chunks",
  }, {
    table_name: "vec_embeddings_1536_rowids",
  }, {
    table_name: "vec_embeddings_1536_vector_chunks00",
  }, {
    table_name: "vec_embeddings_3072",
  }, {
    table_name: "vec_embeddings_3072_info",
  }, {
    table_name: "vec_embeddings_3072_chunks",
  }, {
    table_name: "vec_embeddings_3072_rowids",
  }, {
    table_name: "vec_embeddings_3072_vector_chunks00",
  }, {
    table_name: "agents",
  }, {
    table_name: "cache",
  }, {
    table_name: "entities",
  }, {
    table_name: "rooms",
  }, {
    table_name: "memories",
  }, {
    table_name: "embeddings",
  }, {
    table_name: "relationships",
  }, {
    table_name: "participants",
  }, {
    table_name: "worlds",
  }, {
    table_name: "tasks",
  }, {
    table_name: "todos",
  }, {
    table_name: "goals",
  }, {
    table_name: "components",
  }, {
    table_name: "logs",
  }, {
    table_name: "message_servers",
  }, {
    table_name: "channels",
  }, {
    table_name: "messages",
  }, {
    table_name: "channel_participants",
  }, {
    table_name: "todo_tags",
  }, {
    table_name: "goal_tags",
  }, {
    table_name: "server_agents",
  }
]
[TEST DEBUG] About to run migrations for Bun SQLite
[TEST DEBUG] Migrations complete for Bun SQLite
[DEBUG] Tables after migration: [
  {
    table_name: "vec_embeddings_384",
  }, {
    table_name: "vec_embeddings_384_info",
  }, {
    table_name: "vec_embeddings_384_chunks",
  }, {
    table_name: "sqlite_sequence",
  }, {
    table_name: "vec_embeddings_384_rowids",
  }, {
    table_name: "vec_embeddings_384_vector_chunks00",
  }, {
    table_name: "vec_embeddings_512",
  }, {
    table_name: "vec_embeddings_512_info",
  }, {
    table_name: "vec_embeddings_512_chunks",
  }, {
    table_name: "vec_embeddings_512_rowids",
  }, {
    table_name: "vec_embeddings_512_vector_chunks00",
  }, {
    table_name: "vec_embeddings_768",
  }, {
    table_name: "vec_embeddings_768_info",
  }, {
    table_name: "vec_embeddings_768_chunks",
  }, {
    table_name: "vec_embeddings_768_rowids",
  }, {
    table_name: "vec_embeddings_768_vector_chunks00",
  }, {
    table_name: "vec_embeddings_1024",
  }, {
    table_name: "vec_embeddings_1024_info",
  }, {
    table_name: "vec_embeddings_1024_chunks",
  }, {
    table_name: "vec_embeddings_1024_rowids",
  }, {
    table_name: "vec_embeddings_1024_vector_chunks00",
  }, {
    table_name: "vec_embeddings_1536",
  }, {
    table_name: "vec_embeddings_1536_info",
  }, {
    table_name: "vec_embeddings_1536_chunks",
  }, {
    table_name: "vec_embeddings_1536_rowids",
  }, {
    table_name: "vec_embeddings_1536_vector_chunks00",
  }, {
    table_name: "vec_embeddings_3072",
  }, {
    table_name: "vec_embeddings_3072_info",
  }, {
    table_name: "vec_embeddings_3072_chunks",
  }, {
    table_name: "vec_embeddings_3072_rowids",
  }, {
    table_name: "vec_embeddings_3072_vector_chunks00",
  }, {
    table_name: "agents",
  }, {
    table_name: "cache",
  }, {
    table_name: "entities",
  }, {
    table_name: "rooms",
  }, {
    table_name: "memories",
  }, {
    table_name: "embeddings",
  }, {
    table_name: "relationships",
  }, {
    table_name: "participants",
  }, {
    table_name: "worlds",
  }, {
    table_name: "tasks",
  }, {
    table_name: "todos",
  }, {
    table_name: "goals",
  }, {
    table_name: "components",
  }, {
    table_name: "logs",
  }, {
    table_name: "message_servers",
  }, {
    table_name: "channels",
  }, {
    table_name: "messages",
  }, {
    table_name: "channel_participants",
  }, {
    table_name: "todo_tags",
  }, {
    table_name: "goal_tags",
  }, {
    table_name: "server_agents",
  }, {
    table_name: "users",
  }, {
    table_name: "organizations",
  }, {
    table_name: "user_organizations",
  }, {
    table_name: "posts",
  }, {
    table_name: "comments",
  }, {
    table_name: "categories",
  }, {
    table_name: "post_categories",
  }, {
    table_name: "audit_logs",
  }
]
(pass) Comprehensive Migration Tests > Bun SQLite Adapter > should create all tables with correct schema [3.03ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forceBunSqlite is true, using BunSqlite adapter[39m
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] Using BunSqlite adapter (forced)[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Created for agent d4f25dc1-4abe-4ac8-b812-935a363fcca5[39m
    inMemory: false
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-bunsqlite-test-rAIxuQ/bun-d4f25dc1-4abe-4ac8-b812-935a363fcca5.db"
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: users[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: user_organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: posts[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: comments[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: post_categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: audit_logs[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forceBunSqlite is true, using BunSqlite adapter[39m
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] Using BunSqlite adapter (forced)[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Created for agent b9e91cb2-9fe6-4167-aba8-ca315bf4da11[39m
    inMemory: false
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-bunsqlite-test-KxLqn1/bun-b9e91cb2-9fe6-4167-aba8-ca315bf4da11.db"
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: users[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: user_organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: posts[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: comments[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: post_categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: audit_logs[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:46] ERROR: [36m[BunSqliteAdapter] SQL execution failed:[39m
    sql: "\n              INSERT INTO users (username, email) VALUES (?, ?)\n            "
    params: [
      "duplicate_user",
      "user2@example.com"
    ]
    error: "UNIQUE constraint failed: users.username"
[2025-07-12 20:48:46] ERROR: [36m[BunSqliteAdapter] SQL execution failed:[39m
    sql: "\n              INSERT INTO posts (user_id, title) VALUES (?, ?)\n            "
    params: [
      "dc162a71-7999-4381-ab82-e7f7003a3c8e",
      "Orphan Post"
    ]
    error: "FOREIGN KEY constraint failed"
[2025-07-12 20:48:46] ERROR: [36m[BunSqliteAdapter] SQL execution failed:[39m
    sql: "\n              INSERT INTO users (username, email, age) VALUES (?, ?, ?)\n            "
    params: [
      "validuser",
      "valid@example.com",
      -5
    ]
    error: "CHECK constraint failed: age_check"
[2025-07-12 20:48:46] ERROR: [36m[BunSqliteAdapter] SQL execution failed:[39m
    sql: "\n              INSERT INTO posts (id, user_id, title, status) VALUES (?, ?, ?, ?)\n            "
    params: [
      "f7365994-1262-4a77-8b3e-5b121a8653ef",
      "1388afd0-124f-4a86-8444-1d5498ecbc14",
      "Invalid Status Post",
      "invalid_status"
    ]
    error: "CHECK constraint failed: status_check"
(pass) Comprehensive Migration Tests > Bun SQLite Adapter > should handle constraint violations correctly [2.54ms]
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
(pass) Comprehensive Migration Tests > Bun SQLite Adapter > should handle cascade deletes correctly [1.86ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forceBunSqlite is true, using BunSqlite adapter[39m
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] Using BunSqlite adapter (forced)[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Created for agent 1f77bc5d-1bd8-46f2-8146-177020f180b6[39m
    inMemory: false
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-bunsqlite-test-LIEiP1/bun-1f77bc5d-1bd8-46f2-8146-177020f180b6.db"
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: users[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: user_organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: posts[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: comments[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: post_categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: audit_logs[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closed successfully[39m
[MIGRATION SERVICE] Test plugin schema keys: [ "users", "organizations", "user_organizations",
  "posts", "comments", "categories", "post_categories", "audit_logs"
]
[MIGRATION SERVICE] Test plugin schema users table: true
(pass) Comprehensive Migration Tests > Bun SQLite Adapter > should support complex queries with multiple joins [2.33ms]
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] forceBunSqlite is true, using BunSqlite adapter[39m
[2025-07-12 20:48:46] INFO: [36m[plugin-sql] Using BunSqlite adapter (forced)[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Created for agent 29fb0a72-2fe8-4cd5-baa8-d0b14854b0d1[39m
    inMemory: false
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-bunsqlite-test-VVTn9d/bun-29fb0a72-2fe8-4cd5-baa8-d0b14854b0d1.db"
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initializing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Loading sqlite-vec extension...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] âœ… sqlite-vec loaded successfully! Version: v0.1.7-alpha.2[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Vector tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Skipping PostgreSQL migrations, using direct table creation[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating SQLite tables...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: cache[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: entities[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: rooms[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: memories[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: embeddings[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: relationships[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: worlds[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: tasks[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todos[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goals[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: components[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: logs[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: message_servers[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channels[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: messages[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: channel_participants[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: todo_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: goal_tags[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Creating table: server_agents[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] All SQLite tables created successfully[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Initialization complete[39m
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: test-comprehensive-migration[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: comments[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: users[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: user_organizations[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: posts[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: comments[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: post_categories[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: audit_logs[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closing...[39m
[2025-07-12 20:48:46] INFO: [36m[BunSqliteAdapter] Closed successfully[39m

src/__tests__/integration/pg-adapter-integration.test.ts:
[2025-07-12 20:48:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:46] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:46] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:46] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: channels[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:46] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:48:46] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:46] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:46] INFO: [36mAll plugin migrations completed.[39m
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Initialization and Connection > should initialize adapter successfully [3.76ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Initialization and Connection > should test connection through adapter [0.06ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Initialization and Connection > should get database instance [0.02ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Initialization and Connection > should check if adapter is ready [0.02ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Raw Database Operations > should execute raw SQL through adapter database [0.39ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Raw Database Operations > should handle transactions through adapter [3.71ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Agent Operations > should create an agent [1.14ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Agent Operations > should retrieve the created agent [0.81ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Agent Operations > should update agent settings [1.56ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Connection Manager Features > should get connection from manager
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Connection Manager Features > should handle multiple operations [0.91ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Error Handling > should handle query errors gracefully [0.27ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Error Handling > should maintain connection after error [0.08ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Advanced Features > should support JSON operations [3.27ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Advanced Features > should support array operations [3.40ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Advanced Features > should support timestamp operations [0.45ms]
(pass) PostgreSQL Adapter Direct Integration Tests > PostgreSQL Adapter Direct Tests > Adapter Shutdown > should handle close gracefully [451.92ms]

src/__tests__/integration/schema-factory.test.ts:
(pass) Schema Factory Integration Tests > SchemaFactory > should create factory with correct database type [0.04ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should return pgTable for both database types [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create uuid columns [0.04ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create text columns [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create json columns [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create boolean columns [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create timestamp columns with options [0.04ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create integer columns [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should handle vector columns differently for postgres vs pglite [0.04ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create text array columns [0.03ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create check constraints [0.03ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should create indexes
(pass) Schema Factory Integration Tests > SchemaFactory > should create foreign key constraints [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should provide default timestamp helper [0.02ms]
(pass) Schema Factory Integration Tests > SchemaFactory > should handle random UUID default differently [0.02ms]
(pass) Schema Factory Integration Tests > Global factory management > should set and get global factory [0.01ms]
(pass) Schema Factory Integration Tests > Global factory management > should default to postgres if not set

src/__tests__/integration/task.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:48:48] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:48] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:48] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:48] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:48] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:48] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:48] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:48] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:48] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:49] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:49] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:49] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:49] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:49] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:49] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:50] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:50] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:50] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:50] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:51] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:51] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:51] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:51] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:48:51] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:48:51] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:48:51] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
[2025-07-12 20:48:51] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
(pass) Task Integration Tests > Task Tests > should create and retrieve a task [56.46ms]
(pass) Task Integration Tests > Task Tests > should update a task [84.99ms]
(pass) Task Integration Tests > Task Tests > should delete a task [113.19ms]
[2025-07-12 20:48:52] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:48:52] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:48:52] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Task Integration Tests > Task Tests > should filter tasks by tags and room [173.17ms]

src/__tests__/integration/agent.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:48:52] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:48:52] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:52] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:48:52] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:48:52] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:48:53] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: agents[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: cache[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: entities[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: components[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: memories[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: logs[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: participants[39m
[2025-07-12 20:48:53] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:48:53] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:48:54] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:54] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:55] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:55] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:55] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:48:55] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:48:55] INFO: [36mAll plugin migrations completed.[39m
(pass) Agent Integration Tests > Agent Tests > createAgent > should successfully create an agent [149.69ms]
[2025-07-12 20:48:56] WARN (duplicate-name): [36mAttempted to create an agent with a duplicate ID or name.[39m
    id: "e3f1ff1f-3d8b-085c-9994-e1dbc89c2d94"
(pass) Agent Integration Tests > Agent Tests > createAgent > should return false when creating an agent with a duplicate name [177.00ms]
[2025-07-12 20:48:57] WARN (Duplicate ID Test 2): [36mAttempted to create an agent with a duplicate ID or name.[39m
    id: "fc6069f4-4474-422f-885a-c68b9e414fcc"
(pass) Agent Integration Tests > Agent Tests > createAgent > should return false when creating an agent with a duplicate ID [145.47ms]
(pass) Agent Integration Tests > Agent Tests > createAgent > should create agent with complex settings structure [139.87ms]
(pass) Agent Integration Tests > Agent Tests > createAgent > should handle creating agent with missing optional fields [142.33ms]
(pass) Agent Integration Tests > Agent Tests > getAgent and getAgents > should retrieve an agent by ID [140.75ms]
(pass) Agent Integration Tests > Agent Tests > getAgent and getAgents > should return null for non-existent agent ID [29.23ms]
(pass) Agent Integration Tests > Agent Tests > getAgent and getAgents > should retrieve all agents [257.58ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should update an existing agent [274.46ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should merge settings when updating [251.97ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should remove settings when set to null [249.92ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should update only non-settings fields [272.36ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should update only settings fields [252.10ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should remove top-level and nested secret settings when set to null [259.03ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should correctly remove specific secrets from a complex settings object when set to null [290.19ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should handle updating with empty object [242.22ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should handle deep nested settings objects [257.89ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should handle array values in settings [250.69ms]
(pass) Agent Integration Tests > Agent Tests > updateAgent > should handle non-existent agent ID [108.31ms]
(pass) Agent Integration Tests > Agent Tests > deleteAgent > should delete an agent and return true [171.78ms]
[TEST] Using PostgreSQL for test database
[2025-07-12 20:49:04] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:04] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:04] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:04] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:04] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:05] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:05] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:05] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:05] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:05] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:05] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:05] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:06] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:06] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:06] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:06] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:06] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:07] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:07] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:07] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:49:07] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:07] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:07] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
[2025-07-12 20:49:08] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
[2025-07-12 20:49:08] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
[TEST] Foreign key constraints for rooms.agent_id: [
  {
    constraint_name: "rooms_agent_id_fkey",
    table_name: "rooms",
    column_name: "agent_id",
    foreign_table_name: "agents",
    foreign_column_name: "id",
    delete_rule: "CASCADE",
  }
]
(pass) Agent Integration Tests > Agent Tests > deleteAgent > should cascade delete all related data when deleting an agent [4844.44ms]
[2025-07-12 20:49:09] WARN: [36m[DB] Agent 2a226182-4726-4678-9a50-6104202920ab not found[39m
(pass) Agent Integration Tests > Agent Tests > deleteAgent > should return false when deleting non-existent agent [28.31ms]
(pass) Agent Integration Tests > Agent Tests > deleteAgent > should delete agent with complex data structure [168.97ms]
(pass) Agent Integration Tests > Agent Tests > countAgents > should return the correct count of agents [248.55ms]
(pass) Agent Integration Tests > Agent Tests > cleanupAgents > should clean up agents properly [138.59ms]

src/__tests__/integration/entity.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:10] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:10] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:10] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:10] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:10] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:11] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:11] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:11] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:11] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:11] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:11] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:11] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:12] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:12] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:12] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:12] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:12] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:13] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:13] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:13] INFO: [36mAll plugin migrations completed.[39m
(pass) Entity Integration Tests > Entity Tests > should create and retrieve a basic entity [110.57ms]
(pass) Entity Integration Tests > Entity Tests > should return empty array when retrieving non-existent entities [27.72ms]
(pass) Entity Integration Tests > Entity Tests > should update an existing entity [140.36ms]
(pass) Entity Integration Tests > Entity Tests > should handle multiple entities creation [138.68ms]
(pass) Entity Integration Tests > Entity Tests > should handle entities with multiple names [114.98ms]
(pass) Entity Integration Tests > Entity Tests > should handle entities with no metadata [107.70ms]

src/__tests__/integration/postgres-init.test.ts:
[2025-07-12 20:49:14] INFO: [36mplugin-sql init starting...[39m
(pass) PostgreSQL Initialization Tests > should initialize with PostgreSQL when POSTGRES_URL is provided [0.34ms]
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Using PostgreSQL adapter (URL provided)[39m
[2025-07-12 20:49:14] INFO: [36mDatabase adapter created, initialized, and registered[39m
(pass) PostgreSQL Initialization Tests > should skip initialization if database adapter already exists [0.06ms]
[2025-07-12 20:49:14] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:49:14] INFO: [36mDatabase adapter already registered, skipping creation[39m
(pass) PostgreSQL Initialization Tests > should use PGLITE_PATH when provided [0.27ms]
[2025-07-12 20:49:14] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:49:14] INFO: [36mDatabase adapter created, initialized, and registered[39m
(pass) PostgreSQL Initialization Tests > should use DATABASE_PATH when PGLITE_PATH is not provided [0.16ms]
[2025-07-12 20:49:14] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:49:14] INFO: [36mDatabase adapter created, initialized, and registered[39m
(pass) PostgreSQL Initialization Tests > should use default path when no configuration is provided [0.17ms]
[2025-07-12 20:49:14] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:49:14] INFO: [36mDatabase adapter created, initialized, and registered[39m
(pass) PostgreSQL Initialization Tests > should handle errors gracefully during adapter check [0.36ms]
[2025-07-12 20:49:14] INFO: [36mplugin-sql init starting...[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Attempting PGLite adapter (default choice for compatibility)[39m
[2025-07-12 20:49:14] INFO: [36m[plugin-sql] Using PGLite adapter as default[39m
[2025-07-12 20:49:14] INFO: [36mDatabase adapter created, initialized, and registered[39m

src/__tests__/integration/room.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:14] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:14] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:14] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:14] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:14] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:15] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:15] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:15] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:16] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:16] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:17] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:17] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:17] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:17] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:17] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:18] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Room Integration Tests > Room Tests > should create and retrieve a room [58.28ms]
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:18] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Room Integration Tests > Room Tests > should get all rooms for a world [93.03ms]
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:18] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Room Integration Tests > Room Tests > should update a room [86.67ms]
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:18] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:18] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Room Integration Tests > Room Tests > should delete a room [122.37ms]

src/__tests__/integration/participant.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:19] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:19] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:19] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:19] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:19] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:19] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:19] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:19] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:20] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:20] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:20] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:20] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:21] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:21] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:21] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:21] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:21] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:21] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:22] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:22] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:22] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:22] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:22] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:23] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:23] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:49:23] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:23] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:23] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
[2025-07-12 20:49:23] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
(pass) Participant Integration Tests > Participant Tests > should add and retrieve a participant [59.47ms]
[2025-07-12 20:49:23] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
(pass) Participant Integration Tests > Participant Tests > should remove a participant from a room [151.80ms]
[2025-07-12 20:49:23] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
(pass) Participant Integration Tests > Participant Tests > should manage participant state [147.40ms]

src/__tests__/integration/memory.test.ts:
[TEST] Using PostgreSQL for test database
[2025-07-12 20:49:24] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:24] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:24] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:24] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:24] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:24] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:24] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:24] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:24] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:24] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:25] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:25] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:25] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:25] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:25] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:25] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:26] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:26] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:26] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:26] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:26] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:26] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:27] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:27] INFO: [36mAll plugin migrations completed.[39m
ADAPTER IS PgDatabaseAdapter {
  maxRetries: 3,
  baseDelay: 1000,
  maxDelay: 10000,
  jitterMax: 1000,
  embeddingDimension: "dim_384",
  agentId: "fa6ae4ad-24b4-4633-96b4-c6de5e26256f",
  logger: Pino {
    levels: {
      labels: {
        "10": "trace",
        "20": "debug",
        "27": "success",
        "28": "progress",
        "29": "log",
        "30": "info",
        "40": "warn",
        "50": "error",
        "60": "fatal",
        Infinity: "silent",
      },
      values: {
        silent: Infinity,
        trace: 10,
        debug: 20,
        info: 30,
        warn: 40,
        error: 50,
        fatal: 60,
        log: 29,
        progress: 28,
        success: 27,
      },
    },
    [Symbol(pino.levelComp)]: [Function: compareLevel],
    [Symbol(pino.useOnlyCustomLevels)]: false,
    [Symbol(pino.stream)]: InMemoryDestination {
      logs: [
        {
          level: 40,
          time: 1752353318650,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318655,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318658,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318661,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318662,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint \"server_agents_server_id_fkey\" cannot be implemented",
        },
        {
          level: 30,
          time: 1752353318664,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "DatabaseMigrationService initialized with database",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Registered schema for plugin: @elizaos/plugin-sql",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Discovered 1 plugin schemas out of 1 plugins",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Running migrations for 1 plugins...",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Starting migration for plugin: @elizaos/plugin-sql",
        }, {
          level: 40,
          time: 1752353319465,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Circular dependency detected involving table: central_messages",
        }, {
          level: 40,
          time: 1752353319465,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319467,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: agents",
        }, {
          level: 40,
          time: 1752353319467,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319468,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: cache",
        }, {
          level: 30,
          time: 1752353319469,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: message_servers",
        }, {
          level: 30,
          time: 1752353319470,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channels",
        }, {
          level: 40,
          time: 1752353319470,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319471,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channel_participants",
        }, {
          level: 40,
          time: 1752353319471,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319472,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: entities",
        }, {
          level: 30,
          time: 1752353319473,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: worlds",
        }, {
          level: 40,
          time: 1752353319473,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319474,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: rooms",
        }, {
          level: 30,
          time: 1752353319475,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: components",
        }, {
          level: 40,
          time: 1752353319475,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319476,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: memories",
        }, {
          level: 40,
          time: 1752353319476,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319477,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: embeddings",
        }, {
          level: 40,
          time: 1752353319477,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319478,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: logs",
        }, {
          level: 30,
          time: 1752353319479,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: central_messages",
        }, {
          level: 40,
          time: 1752353319479,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319480,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: participants",
        }, {
          level: 40,
          time: 1752353319480,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319481,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: relationships",
        }, {
          level: 40,
          time: 1752353319481,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319481,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: server_agents",
        }, {
          level: 30,
          time: 1752353319482,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: tasks",
        }, {
          level: 40,
          time: 1752353319482,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319485,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319486,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319488,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319497,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319500,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319501,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319505,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319509,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319512,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319514,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint \"server_agents_server_id_fkey\" cannot be implemented",
        },
        {
          level: 30,
          time: 1752353319516,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "DatabaseMigrationService initialized with database",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Registered schema for plugin: @elizaos/plugin-sql",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Discovered 1 plugin schemas out of 1 plugins",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Running migrations for 1 plugins...",
        }, {
          level: 30,
          time: 1752353319886,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Starting migration for plugin: @elizaos/plugin-sql",
        }, {
          level: 40,
          time: 1752353320342,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Circular dependency detected involving table: central_messages",
        }, {
          level: 40,
          time: 1752353320342,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320344,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: agents",
        }, {
          level: 40,
          time: 1752353320344,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320345,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: cache",
        }, {
          level: 30,
          time: 1752353320345,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: message_servers",
        }, {
          level: 30,
          time: 1752353320346,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channels",
        }, {
          level: 40,
          time: 1752353320346,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320347,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channel_participants",
        }, {
          level: 40,
          time: 1752353320347,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320348,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: entities",
        }, {
          level: 30,
          time: 1752353320349,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: worlds",
        }, {
          level: 40,
          time: 1752353320349,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320350,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: rooms",
        }, {
          level: 30,
          time: 1752353320351,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: components",
        }, {
          level: 40,
          time: 1752353320351,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320352,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: memories",
        }, {
          level: 40,
          time: 1752353320352,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320353,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: embeddings",
        }, {
          level: 40,
          time: 1752353320353,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320354,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: logs",
        }, {
          level: 30,
          time: 1752353320355,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: central_messages",
        }, {
          level: 40,
          time: 1752353320355,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320356,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: participants",
        }, {
          level: 40,
          time: 1752353320356,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320357,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: relationships",
        }, {
          level: 40,
          time: 1752353320357,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320358,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: server_agents",
        }, {
          level: 30,
          time: 1752353320359,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: tasks",
        }, {
          level: 40,
          time: 1752353320359,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320362,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320364,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320367,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320375,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320379,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320380,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320387,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320391,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320394,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320396,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint \"server_agents_server_id_fkey\" cannot be implemented",
        },
        {
          level: 30,
          time: 1752353320399,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        }, {
          level: 30,
          time: 1752353320781,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "DatabaseMigrationService initialized with database",
        }, {
          level: 30,
          time: 1752353320781,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Registered schema for plugin: @elizaos/plugin-sql",
        },
        ... 900 more items
      ],
      maxLogs: 1000,
      stream: Transform {
        _events: {
          close: [
            [Function], [Function: onclose]
          ],
          error: [
            [Function: onerror]
          ],
          prefinish: [
            [Function: prefinish]
          ],
          finish: [
            [Function: onfinish]
          ],
          drain: undefined,
          data: [
            [Function: ondata]
          ],
          end: [
            [Function: onend], [Function: onceWrapper]
          ],
          readable: undefined,
          message: [
            [Function: pinoConfigListener]
          ],
          unknown: [
            [Function]
          ],
        },
        _readableState: {
          [Symbol(kState)]: 194521357,
          highWaterMark: 16,
          buffer: [],
          bufferIndex: 0,
          length: 0,
          pipes: [
            Transform {
              _events: {
                close: [
                  [Function], [Function: onclose], [Function: onceWrapper]
                ],
                error: [
                  [Function: onerror], [Function: onerror]
                ],
                prefinish: [
                  [Function: prefinish]
                ],
                finish: [
                  [Function: onfinish], [Function: onceWrapper]
                ],
                drain: [
                  [Function: pipeOnDrainFunctionResult]
                ],
                data: [
                  [Function: ondata]
                ],
                end: [
                  [Function: onend], [Function: onceWrapper]
                ],
                readable: undefined,
                unpipe: [
                  [Function: onunpipe]
                ],
              },
              _readableState: {
                [Symbol(kState)]: 194521357,
                highWaterMark: 16,
                buffer: [],
                bufferIndex: 0,
                length: 0,
                pipes: [
                  [Object ...]
                ],
                awaitDrainWriters: null,
                objectMode: [Getter/Setter],
                ended: [Getter/Setter],
                endEmitted: [Getter/Setter],
                reading: [Getter/Setter],
                constructed: [Getter/Setter],
                sync: [Getter/Setter],
                needReadable: [Getter/Setter],
                emittedReadable: [Getter/Setter],
                readableListening: [Getter/Setter],
                resumeScheduled: [Getter/Setter],
                errorEmitted: [Getter/Setter],
                emitClose: [Getter/Setter],
                autoDestroy: [Getter/Setter],
                destroyed: [Getter/Setter],
                closed: [Getter/Setter],
                closeEmitted: [Getter/Setter],
                multiAwaitDrain: [Getter/Setter],
                readingMore: [Getter/Setter],
                dataEmitted: [Getter/Setter],
                errored: [Getter/Setter],
                defaultEncoding: [Getter/Setter],
                decoder: [Getter/Setter],
                encoding: [Getter/Setter],
                flowing: [Getter/Setter],
                pipesCount: [Getter],
                paused: [Getter/Setter],
                [Symbol(kOnConstructed)]: [Function: onConstructed],
              },
              _writableState: {
                [Symbol(kState)]: 17580301,
                highWaterMark: 16,
                length: 0,
                corked: 0,
                onwrite: [Function: onwrite],
                writelen: 0,
                [Symbol(kBufferedValue)]: null,
                bufferedIndex: 0,
                pendingcb: 0,
                [Symbol(kWriteCbValue)]: null,
                objectMode: [Getter/Setter],
                finalCalled: [Getter/Setter],
                needDrain: [Getter/Setter],
                ending: [Getter/Setter],
                ended: [Getter/Setter],
                finished: [Getter/Setter],
                destroyed: [Getter/Setter],
                decodeStrings: [Getter/Setter],
                writing: [Getter/Setter],
                sync: [Getter/Setter],
                bufferProcessing: [Getter/Setter],
                constructed: [Getter/Setter],
                prefinished: [Getter/Setter],
                errorEmitted: [Getter/Setter],
                emitClose: [Getter/Setter],
                autoDestroy: [Getter/Setter],
                closed: [Getter/Setter],
                closeEmitted: [Getter/Setter],
                allBuffers: [Getter/Setter],
                allNoop: [Getter/Setter],
                errored: [Getter/Setter],
                writable: [Getter/Setter],
                defaultEncoding: [Getter/Setter],
                writecb: [Getter/Setter],
                afterWriteTickInfo: [Getter/Setter],
                buffered: [Getter/Setter],
                getBuffer: [Function: getBuffer],
                bufferedRequestCount: [Getter],
                [Symbol(kOnConstructed)]: [Function: onConstructed],
              },
              allowHalfOpen: true,
              _maxListeners: undefined,
              [Symbol(kCapture)]: false,
              [Symbol(kCallback)]: null,
              _transform: [Function: transform],
              _eventsCount: NaN,
              _final: [Function: final],
              _write: [Function],
              _read: [Function],
              destroy: [Function],
              write: [Function],
              cork: [Function],
              uncork: [Function],
              setDefaultEncoding: [Function: setDefaultEncoding],
              _writev: null,
              end: [Function],
              writable: [Getter/Setter],
              writableHighWaterMark: [Getter],
              writableObjectMode: [Getter],
              writableBuffer: [Getter],
              writableLength: [Getter],
              writableFinished: [Getter],
              writableCorked: [Getter],
              writableEnded: [Getter],
              writableNeedDrain: [Getter],
              destroyed: [Getter/Setter],
              _undestroy: [Function: undestroy],
              _destroy: [Function],
              push: [Function],
              unshift: [Function],
              isPaused: [Function],
              setEncoding: [Function],
              read: [Function],
              pipe: [Function],
              unpipe: [Function],
              on: [Function],
              addListener: [Function],
              removeListener: [Function],
              off: [Function],
              removeAllListeners: [Function],
              resume: [Function],
              pause: [Function],
              wrap: [Function],
              iterator: [Function],
              readable: [Getter/Setter],
              readableDidRead: [Getter],
              readableAborted: [Getter],
              readableHighWaterMark: [Getter],
              readableBuffer: [Getter],
              readableFlowing: [Getter/Setter],
              readableLength: [Getter],
              readableObjectMode: [Getter],
              readableEncoding: [Getter],
              errored: [Getter],
              closed: [Getter],
              readableEnded: [Getter],
              drop: [Function],
              filter: [Function],
              flatMap: [Function],
              map: [Function],
              take: [Function],
              compose: [Function],
              every: [Function],
              forEach: [Function],
              reduce: [Function],
              toArray: [Function],
              some: [Function],
              find: [Function],
              [Symbol(nodejs.rejection)]: [Function],
              [Symbol(Symbol.asyncDispose)]: [Function],
              [Symbol(Symbol.asyncIterator)]: [Function],
              eventNames: [Function: eventNames],
            }
          ],
          awaitDrainWriters: null,
          objectMode: [Getter/Setter],
          ended: [Getter/Setter],
          endEmitted: [Getter/Setter],
          reading: [Getter/Setter],
          constructed: [Getter/Setter],
          sync: [Getter/Setter],
          needReadable: [Getter/Setter],
          emittedReadable: [Getter/Setter],
          readableListening: [Getter/Setter],
          resumeScheduled: [Getter/Setter],
          errorEmitted: [Getter/Setter],
          emitClose: [Getter/Setter],
          autoDestroy: [Getter/Setter],
          destroyed: [Getter/Setter],
          closed: [Getter/Setter],
          closeEmitted: [Getter/Setter],
          multiAwaitDrain: [Getter/Setter],
          readingMore: [Getter/Setter],
          dataEmitted: [Getter/Setter],
          errored: [Getter/Setter],
          defaultEncoding: [Getter/Setter],
          decoder: [Getter/Setter],
          encoding: [Getter/Setter],
          flowing: [Getter/Setter],
          pipesCount: [Getter],
          paused: [Getter/Setter],
          [Symbol(kOnConstructed)]: [Function: onConstructed],
        },
        _writableState: {
          [Symbol(kState)]: 17580300,
          highWaterMark: 65536,
          length: 0,
          corked: 0,
          onwrite: [Function: onwrite],
          writelen: 0,
          [Symbol(kBufferedValue)]: null,
          bufferedIndex: 0,
          pendingcb: 0,
          [Symbol(kWriteCbValue)]: null,
          objectMode: [Getter/Setter],
          finalCalled: [Getter/Setter],
          needDrain: [Getter/Setter],
          ending: [Getter/Setter],
          ended: [Getter/Setter],
          finished: [Getter/Setter],
          destroyed: [Getter/Setter],
          decodeStrings: [Getter/Setter],
          writing: [Getter/Setter],
          sync: [Getter/Setter],
          bufferProcessing: [Getter/Setter],
          constructed: [Getter/Setter],
          prefinished: [Getter/Setter],
          errorEmitted: [Getter/Setter],
          emitClose: [Getter/Setter],
          autoDestroy: [Getter/Setter],
          closed: [Getter/Setter],
          closeEmitted: [Getter/Setter],
          allBuffers: [Getter/Setter],
          allNoop: [Getter/Setter],
          errored: [Getter/Setter],
          writable: [Getter/Setter],
          defaultEncoding: [Getter/Setter],
          writecb: [Getter/Setter],
          afterWriteTickInfo: [Getter/Setter],
          buffered: [Getter/Setter],
          getBuffer: [Function: getBuffer],
          bufferedRequestCount: [Getter],
          [Symbol(kOnConstructed)]: [Function: onConstructed],
        },
        allowHalfOpen: true,
        _maxListeners: undefined,
        [Symbol(kCapture)]: false,
        [Symbol(kCallback)]: null,
        _transform: [Function: transform],
        _flush: [Function: flush],
        _eventsCount: NaN,
        [Symbol(last)]: "",
        [Symbol(decoder)]: StringDecoder {
          lastChar: <Buffer 00 00 00 00>,
          lastNeed: 0,
          lastTotal: 0,
          encoding: "utf8",
          write: [Function: write],
          end: [Function: end],
          text: [Function: text],
        },
        matcher: /\r?\n/,
        mapper: [Function],
        maxLength: undefined,
        skipOverflow: false,
        overflow: false,
        _destroy: [Function],
        [Symbol(pino.metadata)]: true,
        lastTime: 1752353367267,
        lastLevel: 30,
        lastObj: {
          level: 30,
          time: 1752353367267,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        },
        _final: [Function: final],
        _write: [Function],
        _read: [Function],
        destroy: [Function],
        write: [Function],
        cork: [Function],
        uncork: [Function],
        setDefaultEncoding: [Function: setDefaultEncoding],
        _writev: null,
        end: [Function],
        writable: [Getter/Setter],
        writableHighWaterMark: [Getter],
        writableObjectMode: [Getter],
        writableBuffer: [Getter],
        writableLength: [Getter],
        writableFinished: [Getter],
        writableCorked: [Getter],
        writableEnded: [Getter],
        writableNeedDrain: [Getter],
        destroyed: [Getter/Setter],
        _undestroy: [Function: undestroy],
        push: [Function],
        unshift: [Function],
        isPaused: [Function],
        setEncoding: [Function],
        read: [Function],
        pipe: [Function],
        unpipe: [Function],
        on: [Function],
        addListener: [Function],
        removeListener: [Function],
        off: [Function],
        removeAllListeners: [Function],
        resume: [Function],
        pause: [Function],
        wrap: [Function],
        iterator: [Function],
        readable: [Getter/Setter],
        readableDidRead: [Getter],
        readableAborted: [Getter],
        readableHighWaterMark: [Getter],
        readableBuffer: [Getter],
        readableFlowing: [Getter/Setter],
        readableLength: [Getter],
        readableObjectMode: [Getter],
        readableEncoding: [Getter],
        errored: [Getter],
        closed: [Getter],
        readableEnded: [Getter],
        drop: [Function],
        filter: [Function],
        flatMap: [Function],
        map: [Function],
        take: [Function],
        compose: [Function],
        every: [Function],
        forEach: [Function],
        reduce: [Function],
        toArray: [Function],
        some: [Function],
        find: [Function],
        [Symbol(nodejs.rejection)]: [Function],
        [Symbol(Symbol.asyncDispose)]: [Function],
        [Symbol(Symbol.asyncIterator)]: [Function],
        eventNames: [Function: eventNames],
      },
      write: [Function: write],
      recentLogs: [Function: recentLogs],
      clear: [Function: clear],
    },
    [Symbol(pino.time)]: [Function: epochTime],
    [Symbol(pino.timeSliceIndex)]: 8,
    [Symbol(pino.stringify)]: [Function: stringify],
    [Symbol(pino.stringifySafe)]: [Function: stringify],
    [Symbol(pino.stringifiers)]: {},
    [Symbol(pino.end)]: "}\n",
    [Symbol(pino.formatOpts)]: {
      stringify: [Function: stringify],
    },
    [Symbol(pino.messageKey)]: "msg",
    [Symbol(pino.errorKey)]: "err",
    [Symbol(pino.nestedKey)]: null,
    [Symbol(pino.nestedKeyStr)]: "",
    [Symbol(pino.serializers)]: {
      err: [Function: errSerializer],
    },
    [Symbol(pino.mixin)]: undefined,
    [Symbol(pino.mixinMergeStrategy)]: undefined,
    [Symbol(pino.chindings)]: ",\"pid\":88143,\"hostname\":\"Mac.attlocal.net\"",
    [Symbol(pino.formatters)]: {
      level: [Function: level],
      bindings: [Function: bindings],
      log: undefined,
    },
    [Symbol(pino.hooks)]: {
      logMethod: [Function: logMethod],
    },
    silent: [Function: noop],
    onChild: [Function: noop],
    [Symbol(pino.msgPrefix)]: undefined,
    [Symbol(pino.lsCache)]: {
      "10": "{\"level\":10",
      "20": "{\"level\":20",
      "27": "{\"level\":27",
      "28": "{\"level\":28",
      "29": "{\"level\":29",
      "30": "{\"level\":30",
      "40": "{\"level\":40",
      "50": "{\"level\":50",
      "60": "{\"level\":60",
    },
    [Symbol(pino.levelVal)]: 30,
    trace: [Function: noop],
    debug: [Function: noop],
    info: [Function: hookWrappedLog],
    warn: [Function: hookWrappedLog],
    error: [Function: hookWrappedLog],
    fatal: [Function],
    log: [Function: noop],
    progress: [Function: noop],
    success: [Function: noop],
    [Symbol(pino-destination)]: InMemoryDestination {
      logs: [
        {
          level: 40,
          time: 1752353318650,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318655,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318658,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318661,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353318662,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint \"server_agents_server_id_fkey\" cannot be implemented",
        },
        {
          level: 30,
          time: 1752353318664,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "DatabaseMigrationService initialized with database",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Registered schema for plugin: @elizaos/plugin-sql",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Discovered 1 plugin schemas out of 1 plugins",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Running migrations for 1 plugins...",
        }, {
          level: 30,
          time: 1752353319045,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Starting migration for plugin: @elizaos/plugin-sql",
        }, {
          level: 40,
          time: 1752353319465,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Circular dependency detected involving table: central_messages",
        }, {
          level: 40,
          time: 1752353319465,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319467,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: agents",
        }, {
          level: 40,
          time: 1752353319467,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319468,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: cache",
        }, {
          level: 30,
          time: 1752353319469,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: message_servers",
        }, {
          level: 30,
          time: 1752353319470,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channels",
        }, {
          level: 40,
          time: 1752353319470,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319471,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channel_participants",
        }, {
          level: 40,
          time: 1752353319471,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319472,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: entities",
        }, {
          level: 30,
          time: 1752353319473,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: worlds",
        }, {
          level: 40,
          time: 1752353319473,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319474,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: rooms",
        }, {
          level: 30,
          time: 1752353319475,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: components",
        }, {
          level: 40,
          time: 1752353319475,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319476,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: memories",
        }, {
          level: 40,
          time: 1752353319476,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319477,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: embeddings",
        }, {
          level: 40,
          time: 1752353319477,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319478,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: logs",
        }, {
          level: 30,
          time: 1752353319479,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: central_messages",
        }, {
          level: 40,
          time: 1752353319479,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319480,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: participants",
        }, {
          level: 40,
          time: 1752353319480,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319481,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: relationships",
        }, {
          level: 40,
          time: 1752353319481,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353319481,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: server_agents",
        }, {
          level: 30,
          time: 1752353319482,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: tasks",
        }, {
          level: 40,
          time: 1752353319482,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319485,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319486,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319488,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319497,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319500,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319501,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319505,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319509,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319512,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353319514,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint \"server_agents_server_id_fkey\" cannot be implemented",
        },
        {
          level: 30,
          time: 1752353319516,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "DatabaseMigrationService initialized with database",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Registered schema for plugin: @elizaos/plugin-sql",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Discovered 1 plugin schemas out of 1 plugins",
        }, {
          level: 30,
          time: 1752353319885,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Running migrations for 1 plugins...",
        }, {
          level: 30,
          time: 1752353319886,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Starting migration for plugin: @elizaos/plugin-sql",
        }, {
          level: 40,
          time: 1752353320342,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Circular dependency detected involving table: central_messages",
        }, {
          level: 40,
          time: 1752353320342,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320344,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: agents",
        }, {
          level: 40,
          time: 1752353320344,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320345,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: cache",
        }, {
          level: 30,
          time: 1752353320345,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: message_servers",
        }, {
          level: 30,
          time: 1752353320346,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channels",
        }, {
          level: 40,
          time: 1752353320346,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320347,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: channel_participants",
        }, {
          level: 40,
          time: 1752353320347,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320348,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: entities",
        }, {
          level: 30,
          time: 1752353320349,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: worlds",
        }, {
          level: 40,
          time: 1752353320349,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320350,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: rooms",
        }, {
          level: 30,
          time: 1752353320351,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: components",
        }, {
          level: 40,
          time: 1752353320351,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320352,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: memories",
        }, {
          level: 40,
          time: 1752353320352,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320353,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: embeddings",
        }, {
          level: 40,
          time: 1752353320353,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320354,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: logs",
        }, {
          level: 30,
          time: 1752353320355,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: central_messages",
        }, {
          level: 40,
          time: 1752353320355,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320356,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: participants",
        }, {
          level: 40,
          time: 1752353320356,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320357,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: relationships",
        }, {
          level: 40,
          time: 1752353320357,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.",
        },
        {
          level: 30,
          time: 1752353320358,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: server_agents",
        }, {
          level: 30,
          time: 1752353320359,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Created table: tasks",
        }, {
          level: 40,
          time: 1752353320359,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320362,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320364,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320367,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320375,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320379,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320380,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320387,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320391,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320394,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:\n1. Use Drizzle's native migration system (drizzle-kit)\n2. Manually run ALTER TABLE statements after migration\n3. Use our custom schema format instead of Drizzle's constraint builders",
        },
        {
          level: 40,
          time: 1752353320396,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint \"server_agents_server_id_fkey\" cannot be implemented",
        },
        {
          level: 30,
          time: 1752353320399,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        }, {
          level: 30,
          time: 1752353320781,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "DatabaseMigrationService initialized with database",
        }, {
          level: 30,
          time: 1752353320781,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "Registered schema for plugin: @elizaos/plugin-sql",
        },
        ... 900 more items
      ],
      maxLogs: 1000,
      stream: Transform {
        _events: {
          close: [
            [Function], [Function: onclose]
          ],
          error: [
            [Function: onerror]
          ],
          prefinish: [
            [Function: prefinish]
          ],
          finish: [
            [Function: onfinish]
          ],
          drain: undefined,
          data: [
            [Function: ondata]
          ],
          end: [
            [Function: onend], [Function: onceWrapper]
          ],
          readable: undefined,
          message: [
            [Function: pinoConfigListener]
          ],
          unknown: [
            [Function]
          ],
        },
        _readableState: {
          [Symbol(kState)]: 194521357,
          highWaterMark: 16,
          buffer: [],
          bufferIndex: 0,
          length: 0,
          pipes: [
            Transform {
              _events: {
                close: [
                  [Function], [Function: onclose], [Function: onceWrapper]
                ],
                error: [
                  [Function: onerror], [Function: onerror]
                ],
                prefinish: [
                  [Function: prefinish]
                ],
                finish: [
                  [Function: onfinish], [Function: onceWrapper]
                ],
                drain: [
                  [Function: pipeOnDrainFunctionResult]
                ],
                data: [
                  [Function: ondata]
                ],
                end: [
                  [Function: onend], [Function: onceWrapper]
                ],
                readable: undefined,
                unpipe: [
                  [Function: onunpipe]
                ],
              },
              _readableState: {
                [Symbol(kState)]: 194521357,
                highWaterMark: 16,
                buffer: [],
                bufferIndex: 0,
                length: 0,
                pipes: [
                  [Object ...]
                ],
                awaitDrainWriters: null,
                objectMode: [Getter/Setter],
                ended: [Getter/Setter],
                endEmitted: [Getter/Setter],
                reading: [Getter/Setter],
                constructed: [Getter/Setter],
                sync: [Getter/Setter],
                needReadable: [Getter/Setter],
                emittedReadable: [Getter/Setter],
                readableListening: [Getter/Setter],
                resumeScheduled: [Getter/Setter],
                errorEmitted: [Getter/Setter],
                emitClose: [Getter/Setter],
                autoDestroy: [Getter/Setter],
                destroyed: [Getter/Setter],
                closed: [Getter/Setter],
                closeEmitted: [Getter/Setter],
                multiAwaitDrain: [Getter/Setter],
                readingMore: [Getter/Setter],
                dataEmitted: [Getter/Setter],
                errored: [Getter/Setter],
                defaultEncoding: [Getter/Setter],
                decoder: [Getter/Setter],
                encoding: [Getter/Setter],
                flowing: [Getter/Setter],
                pipesCount: [Getter],
                paused: [Getter/Setter],
                [Symbol(kOnConstructed)]: [Function: onConstructed],
              },
              _writableState: {
                [Symbol(kState)]: 17580301,
                highWaterMark: 16,
                length: 0,
                corked: 0,
                onwrite: [Function: onwrite],
                writelen: 0,
                [Symbol(kBufferedValue)]: null,
                bufferedIndex: 0,
                pendingcb: 0,
                [Symbol(kWriteCbValue)]: null,
                objectMode: [Getter/Setter],
                finalCalled: [Getter/Setter],
                needDrain: [Getter/Setter],
                ending: [Getter/Setter],
                ended: [Getter/Setter],
                finished: [Getter/Setter],
                destroyed: [Getter/Setter],
                decodeStrings: [Getter/Setter],
                writing: [Getter/Setter],
                sync: [Getter/Setter],
                bufferProcessing: [Getter/Setter],
                constructed: [Getter/Setter],
                prefinished: [Getter/Setter],
                errorEmitted: [Getter/Setter],
                emitClose: [Getter/Setter],
                autoDestroy: [Getter/Setter],
                closed: [Getter/Setter],
                closeEmitted: [Getter/Setter],
                allBuffers: [Getter/Setter],
                allNoop: [Getter/Setter],
                errored: [Getter/Setter],
                writable: [Getter/Setter],
                defaultEncoding: [Getter/Setter],
                writecb: [Getter/Setter],
                afterWriteTickInfo: [Getter/Setter],
                buffered: [Getter/Setter],
                getBuffer: [Function: getBuffer],
                bufferedRequestCount: [Getter],
                [Symbol(kOnConstructed)]: [Function: onConstructed],
              },
              allowHalfOpen: true,
              _maxListeners: undefined,
              [Symbol(kCapture)]: false,
              [Symbol(kCallback)]: null,
              _transform: [Function: transform],
              _eventsCount: NaN,
              _final: [Function: final],
              _write: [Function],
              _read: [Function],
              destroy: [Function],
              write: [Function],
              cork: [Function],
              uncork: [Function],
              setDefaultEncoding: [Function: setDefaultEncoding],
              _writev: null,
              end: [Function],
              writable: [Getter/Setter],
              writableHighWaterMark: [Getter],
              writableObjectMode: [Getter],
              writableBuffer: [Getter],
              writableLength: [Getter],
              writableFinished: [Getter],
              writableCorked: [Getter],
              writableEnded: [Getter],
              writableNeedDrain: [Getter],
              destroyed: [Getter/Setter],
              _undestroy: [Function: undestroy],
              _destroy: [Function],
              push: [Function],
              unshift: [Function],
              isPaused: [Function],
              setEncoding: [Function],
              read: [Function],
              pipe: [Function],
              unpipe: [Function],
              on: [Function],
              addListener: [Function],
              removeListener: [Function],
              off: [Function],
              removeAllListeners: [Function],
              resume: [Function],
              pause: [Function],
              wrap: [Function],
              iterator: [Function],
              readable: [Getter/Setter],
              readableDidRead: [Getter],
              readableAborted: [Getter],
              readableHighWaterMark: [Getter],
              readableBuffer: [Getter],
              readableFlowing: [Getter/Setter],
              readableLength: [Getter],
              readableObjectMode: [Getter],
              readableEncoding: [Getter],
              errored: [Getter],
              closed: [Getter],
              readableEnded: [Getter],
              drop: [Function],
              filter: [Function],
              flatMap: [Function],
              map: [Function],
              take: [Function],
              compose: [Function],
              every: [Function],
              forEach: [Function],
              reduce: [Function],
              toArray: [Function],
              some: [Function],
              find: [Function],
              [Symbol(nodejs.rejection)]: [Function],
              [Symbol(Symbol.asyncDispose)]: [Function],
              [Symbol(Symbol.asyncIterator)]: [Function],
              eventNames: [Function: eventNames],
            }
          ],
          awaitDrainWriters: null,
          objectMode: [Getter/Setter],
          ended: [Getter/Setter],
          endEmitted: [Getter/Setter],
          reading: [Getter/Setter],
          constructed: [Getter/Setter],
          sync: [Getter/Setter],
          needReadable: [Getter/Setter],
          emittedReadable: [Getter/Setter],
          readableListening: [Getter/Setter],
          resumeScheduled: [Getter/Setter],
          errorEmitted: [Getter/Setter],
          emitClose: [Getter/Setter],
          autoDestroy: [Getter/Setter],
          destroyed: [Getter/Setter],
          closed: [Getter/Setter],
          closeEmitted: [Getter/Setter],
          multiAwaitDrain: [Getter/Setter],
          readingMore: [Getter/Setter],
          dataEmitted: [Getter/Setter],
          errored: [Getter/Setter],
          defaultEncoding: [Getter/Setter],
          decoder: [Getter/Setter],
          encoding: [Getter/Setter],
          flowing: [Getter/Setter],
          pipesCount: [Getter],
          paused: [Getter/Setter],
          [Symbol(kOnConstructed)]: [Function: onConstructed],
        },
        _writableState: {
          [Symbol(kState)]: 17580300,
          highWaterMark: 65536,
          length: 0,
          corked: 0,
          onwrite: [Function: onwrite],
          writelen: 0,
          [Symbol(kBufferedValue)]: null,
          bufferedIndex: 0,
          pendingcb: 0,
          [Symbol(kWriteCbValue)]: null,
          objectMode: [Getter/Setter],
          finalCalled: [Getter/Setter],
          needDrain: [Getter/Setter],
          ending: [Getter/Setter],
          ended: [Getter/Setter],
          finished: [Getter/Setter],
          destroyed: [Getter/Setter],
          decodeStrings: [Getter/Setter],
          writing: [Getter/Setter],
          sync: [Getter/Setter],
          bufferProcessing: [Getter/Setter],
          constructed: [Getter/Setter],
          prefinished: [Getter/Setter],
          errorEmitted: [Getter/Setter],
          emitClose: [Getter/Setter],
          autoDestroy: [Getter/Setter],
          closed: [Getter/Setter],
          closeEmitted: [Getter/Setter],
          allBuffers: [Getter/Setter],
          allNoop: [Getter/Setter],
          errored: [Getter/Setter],
          writable: [Getter/Setter],
          defaultEncoding: [Getter/Setter],
          writecb: [Getter/Setter],
          afterWriteTickInfo: [Getter/Setter],
          buffered: [Getter/Setter],
          getBuffer: [Function: getBuffer],
          bufferedRequestCount: [Getter],
          [Symbol(kOnConstructed)]: [Function: onConstructed],
        },
        allowHalfOpen: true,
        _maxListeners: undefined,
        [Symbol(kCapture)]: false,
        [Symbol(kCallback)]: null,
        _transform: [Function: transform],
        _flush: [Function: flush],
        _eventsCount: NaN,
        [Symbol(last)]: "",
        [Symbol(decoder)]: StringDecoder {
          lastChar: <Buffer 00 00 00 00>,
          lastNeed: 0,
          lastTotal: 0,
          encoding: "utf8",
          write: [Function: write],
          end: [Function: end],
          text: [Function: text],
        },
        matcher: /\r?\n/,
        mapper: [Function],
        maxLength: undefined,
        skipOverflow: false,
        overflow: false,
        _destroy: [Function],
        [Symbol(pino.metadata)]: true,
        lastTime: 1752353367267,
        lastLevel: 30,
        lastObj: {
          level: 30,
          time: 1752353367267,
          pid: 88143,
          hostname: "Mac.attlocal.net",
          msg: "All plugin migrations completed.",
        },
        _final: [Function: final],
        _write: [Function],
        _read: [Function],
        destroy: [Function],
        write: [Function],
        cork: [Function],
        u[2025-07-12 20:49:27] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:27] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:27] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
[2025-07-12 20:49:27] INFO: [36m[PgDatabaseAdapter] addParticipant called - using PostgreSQL override[39m
(pass) Memory Integration Tests > Memory CRUD Operations > should create a simple memory without embedding [141.77ms]
(pass) Memory Integration Tests > Memory CRUD Operations > should update an existing memory [232.60ms]
(pass) Memory Integration Tests > Memory CRUD Operations > should delete a memory [274.67ms]
(pass) Memory Integration Tests > Memory CRUD Operations > should create a memory with embedding [219.07ms]
(pass) Memory Integration Tests > Memory CRUD Operations > should perform partial updates without affecting other fields [418.63ms]
(pass) Memory Integration Tests > Memory CRUD Operations > should perform nested partial updates without overriding existing fields [401.32ms]
(pass) Memory Integration Tests > Memory Retrieval Operations > should retrieve memories by room ID [245.19ms]
(pass) Memory Integration Tests > Memory Retrieval Operations > should count memories in a room [241.93ms]
(pass) Memory Integration Tests > Memory Retrieval Operations > should retrieve memories by ID list [252.15ms]
(pass) Memory Integration Tests > Memory Retrieval Operations > should retrieve memories with pagination [410.94ms]
(pass) Memory Integration Tests > Memory Search Operations > should search memories by embedding similarity [224.65ms]
(pass) Memory Integration Tests > Document and Fragment Operations > should create a document with fragments [736.47ms]
(pass) Memory Integration Tests > Document and Fragment Operations > should delete a document and its fragments [1876.91ms]
(pass) Memory Integration Tests > Memory Model Mapping > should correctly map between Memory and MemoryModel [142.20ms]
(pass) Memory Integration Tests > Memory Model Mapping > should handle partial Memory objects in mapToMemoryModel [239.78ms]
[2025-07-12 20:49:35] ERROR: [36mError creating entity:[39m
    entityId: "a60008ec-904d-48a9-96ce-a816d87d3ef0"
    entity: {
      "id": "a60008ec-904d-48a9-96ce-a816d87d3ef0",
      "agentId": "fa6ae4ad-24b4-4633-96b4-c6de5e26256f",
      "names": [
        "Test Entity"
      ]
    }
    error: "Failed query: \n              INSERT INTO entities (id, agent_id, names, metadata, created_at, updated_at)\n              VALUES (\n                $1,\n                $2,\n                $3::jsonb,\n                $4::jsonb,\n                $5,\n                $6\n              )\n            \nparams: a60008ec-904d-48a9-96ce-a816d87d3ef0,fa6ae4ad-24b4-4633-96b4-c6de5e26256f,[\"Test Entity\"],{},Sat Jul 12 2025 20:49:35 GMT+0000 (Coordinated Universal Time),Sat Jul 12 2025 20:49:35 GMT+0000 (Coordinated Universal Time)"
(pass) Memory Integration Tests > Memory Batch Operations > should delete all memories in a room [606.63ms]
[2025-07-12 20:49:36] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:36] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:36] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Memory Integration Tests > Memory Batch Operations > should retrieve memories by multiple room IDs [395.47ms]
(pass) Memory Integration Tests > should create and retrieve a memory with an embedding [212.89ms]

src/__tests__/integration/entity-crud.test.ts:
[Function],
        cork: [Function],
        uncork: [Function],
        setDefaultEncoding: [Function: setDefaultEncoding],
        _writev: null,
        end: [Function],
        writable: [Getter/Setter],
        writableHighWaterMark: [Getter],
        writableObjectMode: [Getter],
        writableBuffer: [Getter],
        writableLength: [Getter],
        writableFinished: [Getter],
        writableCorked: [Getter],
        writableEnded: [Getter],
        writableNeedDrain: [Getter],
        destroyed: [Getter/Setter],
        _undestroy: [Function: undestroy],
        push: [Function],
        unshift: [Function],
        isPaused: [Function],
        setEncoding: [Function],
        read: [Function],
        pipe: [Function],
        unpipe: [Function],
        on: [Function],
        addListener: [Function],
        removeListener: [Function],
        off: [Function],
        removeAllListeners: [Function],
        resume: [Function],
        pause: [Function],
        wrap: [Function],
        iterator: [Function],
        readable: [Getter/Setter],
        readableDidRead: [Getter],
        readableAborted: [Getter],
        readableHighWaterMark: [Getter],
        readableBuffer: [Getter],
        readableFlowing: [Getter/Setter],
        readableLength: [Getter],
        readableObjectMode: [Getter],
        readableEncoding: [Getter],
        errored: [Getter],
        closed: [Getter],
        readableEnded: [Getter],
        drop: [Function],
        filter: [Function],
        flatMap: [Function],
        map: [Function],
        take: [Function],
        compose: [Function],
        every: [Function],
        forEach: [Function],
        reduce: [Function],
        toArray: [Function],
        some: [Function],
        find: [Function],
        [Symbol(nodejs.rejection)]: [Function],
        [Symbol(Symbol.asyncDispose)]: [Function],
        [Symbol(Symbol.asyncIterator)]: [Function],
        eventNames: [Function: eventNames],
      },
      write: [Function: write],
      recentLogs: [Function: recentLogs],
      clear: [Function: clear],
    },
    clear: [Function],
    child: [Function: child],
    bindings: [Function: bindings],
    setBindings: [Function: setBindings],
    flush: [Function: flush],
    isLevelEnabled: [Function: isLevelEnabled],
    version: "9.7.0",
    level: [Getter/Setter],
    levelVal: [Getter/Setter],
    [Symbol(pino.write)]: [Function: write],
    [Symbol(pino.asJson)]: [Function: asJson],
    [Symbol(pino.getLevel)]: [Function: getLevel],
    [Symbol(pino.setLevel)]: [Function: setLevel],
    setMaxListeners: [Function: setMaxListeners],
    getMaxListeners: [Function: getMaxListeners],
    emit: [Function: emit],
    addListener: [Function: addListener],
    on: [Function: addListener],
    prependListener: [Function: prependListener],
    once: [Function: once],
    prependOnceListener: [Function: prependOnceListener],
    removeListener: [Function: removeListener],
    off: [Function: removeListener],
    removeAllListeners: [Function: removeAllListeners],
    listeners: [Function: listeners],
    rawListeners: [Function: rawListeners],
    listenerCount: [Function: listenerCount],
    eventNames: [Function: eventNames],
    [Symbol(kCapture)]: false,
  },
  manager: PostgresConnectionManager {
    pool: BoundPool {
      _events: [Object: null prototype] {},
      _eventsCount: 0,
      _maxListeners: undefined,
      [Symbol(kCapture)]: false,
      options: {
        connectionString: "postgresql://postgres.mwyntrazuakaieibjuvo:8kH541DlZEsH5Vje@aws-0-us-west-1.pooler.supabase.com:6543/postgres",
        max: 10,
        min: 0,
        maxUses: Infinity,
        allowExitOnIdle: false,
        maxLifetimeSeconds: 0,
        idleTimeoutMillis: 10000,
      },
      log: [Function],
      Client: [class Client extends EventEmitter],
      Promise: [Function: Promise],
      _clients: [
        Client {
          _events: [Object: null prototype] {
            error: [
              [Function: idleListener]
            ],
          },
          _eventsCount: 1,

[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:37] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:37] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:37] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:37] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:37] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:37] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:37] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:38] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:38] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:38] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:38] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:38] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:38] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:39] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:39] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:39] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:40] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:40] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:40] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:41] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:41] INFO: [36mAll plugin migrations completed.[39m
error: Test "should create and retrieve an entity" timed out after 12833660ms
(fail) Entity CRUD Operations > Basic CRUD Operations > should create and retrieve an entity [12833660.76ms]
(pass) Entity CRUD Operations > Basic CRUD Operations > should update an entity [138.34ms]
(pass) Entity CRUD Operations > Basic CRUD Operations > should delete an entity [246.90ms]
(pass) Entity CRUD Operations > Advanced Entity Operations > should get entities by multiple names [270.50ms]
(pass) Entity CRUD Operations > Advanced Entity Operations > should search entities with partial name matching [281.35ms]
(pass) Entity CRUD Operations > Advanced Entity Operations > should handle entity metadata operations [110.93ms]
[2025-07-12 20:49:43] ERROR: [36mError creating entity:[39m
    entityId: "eba2b835-0c17-45c9-a4fb-909312df9542"
    entity: {
      "id": "eba2b835-0c17-45c9-a4fb-909312df9542",
      "agentId": "1e8a1d4c-1e0c-4d89-8daf-e41a11bcd482",
      "names": [
        "Duplicate Test"
      ],
      "metadata": {}
    }
    error: "Failed query: \n              INSERT INTO entities (id, agent_id, names, metadata, created_at, updated_at)\n              VALUES (\n                $1,\n                $2,\n                $3::jsonb,\n                $4::jsonb,\n                $5,\n                $6\n              )\n            \nparams: eba2b835-0c17-45c9-a4fb-909312df9542,1e8a1d4c-1e0c-4d89-8daf-e41a11bcd482,[\"Duplicate Test\"],{},Sat Jul 12 2025 20:49:43 GMT+0000 (Coordinated Universal Time),Sat Jul 12 2025 20:49:43 GMT+0000 (Coordinated Universal Time)"
(pass) Entity CRUD Operations > Advanced Entity Operations > should handle duplicate entity creation [192.27ms]
(pass) Entity CRUD Operations > Advanced Entity Operations > should handle batch entity operations [1872.67ms]
(pass) Entity CRUD Operations > Edge Cases > should handle empty search query [273.63ms]
(pass) Entity CRUD Operations > Edge Cases > should handle update of non-existent entity [59.19ms]
(pass) Entity CRUD Operations > Edge Cases > should handle deletion of non-existent entity [108.38ms]
(pass) Entity CRUD Operations > Edge Cases > should handle entities with multiple names in search [136.47ms]
(pass) Entity CRUD Operations > Edge Cases > should handle case-insensitive name search [106.56ms]

src/__tests__/integration/component.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:46] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:46] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:46] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:46] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:46] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:47] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:47] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:47] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:47] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:47] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:47] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:48] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:48] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:48] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:48] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:48] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:49] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:49] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:49] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:49] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:49:49] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:49] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:49] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Component Integration Tests > Component Tests > should create and retrieve a basic component [64.65ms]
(pass) Component Integration Tests > Component Tests > should update an existing component [95.49ms]
(pass) Component Integration Tests > Component Tests > should delete a component [120.44ms]

src/__tests__/integration/cascade-delete.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:50] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:50] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:50] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:50] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:50] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:51] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:51] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:51] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:52] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:52] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:53] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:53] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:53] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:53] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:53] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:49:54] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:49:54] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:49:54] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Cascade Delete Tests > should cascade delete all related data when deleting an agent [819.33ms]
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:55] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:55] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:55] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:55] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:55] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:55] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:49:55] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:55] INFO: [36mCreated table: agents[39m
[2025-07-12 20:49:55] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:55] INFO: [36mCreated table: cache[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: entities[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: components[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: memories[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: logs[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: participants[39m
[2025-07-12 20:49:56] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:49:56] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:49:56] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:56] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:56] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:56] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:57] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:57] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:57] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:57] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:57] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:58] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:49:58] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:49:58] INFO: [36mAll plugin migrations completed.[39m
(pass) Cascade Delete Tests > should handle deletion of agent with no related data [3716.61ms]
[2025-07-12 20:49:58] WARN: [36m[DB] Agent 52d3dee9-5540-4f88-ab15-c4fb09cdb9e7 not found[39m
(pass) Cascade Delete Tests > should return false when deleting non-existent agent [29.42ms]

src/__tests__/integration/entity-methods.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:49:59] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:49:59] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:49:59] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:49:59] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:49:59] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:00] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:00] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:00] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:00] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:00] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:00] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:00] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:01] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:01] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:01] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:01] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:01] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:02] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:02] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:02] INFO: [36mAll plugin migrations completed.[39m
(pass) Entity Methods Integration Tests > deleteEntity > should delete an entity by ID [269.32ms]
(pass) Entity Methods Integration Tests > deleteEntity > should not throw when deleting non-existent entity [106.75ms]
(pass) Entity Methods Integration Tests > getEntitiesByNames > should retrieve entities by names [167.33ms]
(pass) Entity Methods Integration Tests > getEntitiesByNames > should return empty array when no entities match [30.55ms]
(pass) Entity Methods Integration Tests > searchEntitiesByName > should search entities by partial name match [272.50ms]
(pass) Entity Methods Integration Tests > searchEntitiesByName > should respect the limit parameter [219.56ms]
(pass) Entity Methods Integration Tests > searchEntitiesByName > should return all entities when query is empty [139.71ms]
(pass) Entity Methods Integration Tests > searchEntitiesByName > should perform case-insensitive search [139.35ms]

src/__tests__/runtime/dynamic-migration.test.ts:
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:50:04] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:04] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:04] INFO: [36mRegistered schema for plugin: test-hello-world[39m
[2025-07-12 20:50:04] INFO: [36mRegistered schema for plugin: test-complex-plugin[39m
[2025-07-12 20:50:04] INFO: [36mDiscovered 3 plugin schemas out of 3 plugins[39m
[2025-07-12 20:50:04] INFO: [36mRunning migrations for 3 plugins...[39m
[2025-07-12 20:50:04] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:05] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:05] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:05] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:05] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:05] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:05] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:06] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:06] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:06] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:06] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:07] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:07] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:07] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:07] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:07] INFO: [36mStarting migration for plugin: test-hello-world[39m
[2025-07-12 20:50:08] INFO: [36mStarting migration for plugin: test-complex-plugin[39m
[2025-07-12 20:50:09] INFO: [36mAll plugin migrations completed.[39m
(pass) Dynamic Migration Tests > Migration Tests > should initialize runtime with SQL plugin and hello world plugin [2.92ms]
(pass) Dynamic Migration Tests > Migration Tests > should create tables for the core sql plugin in the public schema [29.52ms]
(pass) Dynamic Migration Tests > Migration Tests > should create tables for the hello-world plugin in a dedicated schema [28.86ms]
[2025-07-12 20:50:09] INFO: [36m[PgDatabaseAdapter] createRooms called - using PostgreSQL override[39m
[2025-07-12 20:50:09] INFO: [36m[PgDatabaseAdapter] Number of rooms to create:[39m
[2025-07-12 20:50:09] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgDatabaseAdapter, isPostgres: true[39m
(pass) Dynamic Migration Tests > Migration Tests > should store and retrieve memory using the dynamically created schema [277.03ms]
[TEST] Creating test with PostgreSQL (public schema)
[2025-07-12 20:50:10] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:10] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:10] INFO: [36mRegistered schema for plugin: test-complex-plugin[39m
[2025-07-12 20:50:10] INFO: [36mDiscovered 2 plugin schemas out of 2 plugins[39m
[2025-07-12 20:50:10] INFO: [36mRunning migrations for 2 plugins...[39m
[2025-07-12 20:50:10] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:10] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:10] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:10] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:10] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:10] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:10] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:10] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:10] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:10] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:10] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:11] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:11] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:11] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:11] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:11] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:11] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:11] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:11] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:11] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:11] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:12] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:12] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:12] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:12] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:12] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:12] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:13] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:13] INFO: [36mStarting migration for plugin: test-complex-plugin[39m
[2025-07-12 20:50:14] INFO: [36mAll plugin migrations completed.[39m
(pass) Dynamic Migration Tests > Migration Tests > should handle complex relationships in dynamic schemas [4653.97ms]

src/__tests__/e2e/postgres.test.ts:
[2025-07-12 20:50:14] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:14] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:14] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:14] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:14] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:14] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Connection Management > should test connection successfully [491.13ms]
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:14] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:14] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:14] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:14] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:15] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:15] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:15] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:15] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:15] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:15] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Connection Management > should get connection [523.86ms]
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:15] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:15] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:15] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:15] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:16] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:16] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:16] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:16] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:16] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:16] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Agent Operations > should create and retrieve an agent [469.61ms]
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:16] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:16] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:16] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:16] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:17] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:17] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:17] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:17] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:17] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:17] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Agent Operations > should update an agent [532.59ms]
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:17] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:17] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:17] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:17] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:17] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:17] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:17] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:17] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:17] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:18] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Agent Operations > should delete an agent [470.20ms]
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:18] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:18] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:18] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:18] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:18] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:18] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:18] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:18] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:18] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:19] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Entity Operations > should create and retrieve entities [520.65ms]
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:19] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:19] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:19] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:19] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:19] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:19] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:19] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Entity Operations > should update an entity [458.30ms]
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:19] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:19] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:19] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:20] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:20] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:20] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:20] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:20] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:20] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:20] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:20] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:20] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:20] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:20] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:20] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Memory Operations > should create and retrieve memories [1.99ms]
[2025-07-12 20:50:21] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:21] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:21] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:21] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:21] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:21] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:21] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:21] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:21] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:21] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:21] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Memory Operations > should search memories by embedding [6.89ms]
[2025-07-12 20:50:22] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:22] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:22] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:22] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:22] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:22] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:22] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:22] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:22] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:22] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:22] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Memory Operations > should update memory content [3.15ms]
[2025-07-12 20:50:23] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:23] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:23] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:23] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:23] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:23] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:23] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:23] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:23] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:23] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:23] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Memory Operations > should delete memories [2.99ms]
[2025-07-12 20:50:23] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:23] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:23] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:23] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:23] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:24] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:24] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:24] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:24] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:24] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:24] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Component Operations > should create and retrieve components [2.13ms]
[2025-07-12 20:50:24] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:24] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:24] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:24] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:24] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:25] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:25] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:25] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:25] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:25] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:25] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Component Operations > should update a component [2.04ms]
[2025-07-12 20:50:25] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:25] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:25] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:25] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:25] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:26] WARN: [36mCircular dependency detected involving table: central_messages[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:26] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:26] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:26] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:26] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:26] INFO: [36m[BaseDrizzleAdapter] createRooms - adapter type: PgliteDatabaseAdapter, isPostgres: true[39m
(pass) PostgreSQL E2E Tests > Component Operations > should delete a component [1.44ms]
[2025-07-12 20:50:26] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:26] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:26] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:26] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:26] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:27] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Transaction and Concurrency > should handle concurrent operations [532.68ms]
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:27] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:27] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:27] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:27] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:27] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:27] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:27] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:27] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:27] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:28] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Transaction and Concurrency > should handle large batch operations [524.10ms]
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:28] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:28] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:28] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:28] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:28] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:28] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:28] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Error Handling > should handle duplicate agent creation [523.56ms]
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:28] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:28] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:28] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:29] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:29] WARN (Duplicate Test): [36mAttempted to create an agent with a duplicate ID or name.[39m
    id: "15774ccf-08ef-4aa4-9ec4-b9040a3abe26"
[2025-07-12 20:50:29] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:29] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:29] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:29] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:29] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:29] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Error Handling > should handle non-existent entity retrieval [530.79ms]
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:29] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:29] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:29] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:29] INFO: [36mAll plugin migrations completed.[39m
[2025-07-12 20:50:30] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:30] INFO: [36mRegistered schema for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:30] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:30] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:30] INFO: [36mStarting migration for plugin: @elizaos/plugin-sql[39m
[2025-07-12 20:50:30] WARN: [36mCircular dependency detected involving table: central_messages[39m
(pass) PostgreSQL E2E Tests > Error Handling > should handle invalid memory search [517.59ms]
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: agents[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table cache has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: cache[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: message_servers[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: channels[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table channel_participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: channel_participants[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: entities[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: worlds[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table rooms has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: rooms[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: components[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table memories has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: memories[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: embeddings[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table logs has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: logs[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: central_messages[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table participants has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: participants[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table relationships has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: relationships[39m
[2025-07-12 20:50:30] WARN: [36m[SQL GENERATION] Table server_agents has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: server_agents[39m
[2025-07-12 20:50:30] INFO: [36mCreated table: tasks[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table cache uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table channel_participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table rooms uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table memories uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table logs uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table participants uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table relationships uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Table server_agents uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:30] WARN: [36m[CUSTOM MIGRATOR] Foreign key constraint server_agents_server_id_fkey cannot be implemented: foreign key constraint "server_agents_server_id_fkey" cannot be implemented[39m
[2025-07-12 20:50:30] INFO: [36mAll plugin migrations completed.[39m

src/__tests__/migration/comprehensive-migration.test.ts:
[TEST CLEANUP] Dropped table: base_entities
[TEST CLEANUP] Dropped table: dependent_entities
[TEST CLEANUP] Dropped table: vector_embeddings
[TEST CLEANUP] Dropped table: complex_relations
[TEST CLEANUP] Dropped all existing tables to ensure clean state
(pass) Comprehensive Dynamic Migration Tests > Schema Introspection > should correctly extract table names from Drizzle table definitions [4.44ms]
(pass) Comprehensive Dynamic Migration Tests > Schema Introspection > should correctly parse all column types [0.10ms]
(pass) Comprehensive Dynamic Migration Tests > Schema Introspection > should correctly parse vector columns with proper dimensions [0.04ms]
(pass) Comprehensive Dynamic Migration Tests > Schema Introspection > should correctly identify table dependencies [0.08ms]
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table base_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[TEST] All tables in public schema: [ "base_entities", "complex_relations", "dependent_entities",
  "vector_embeddings"
]
(pass) Comprehensive Dynamic Migration Tests > Migration Execution > should create all tables in correct dependency order [27.15ms]
[2025-07-12 20:50:31] INFO: [36mCreated table: base_entities[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table dependent_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: dependent_entities[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table vector_embeddings has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: vector_embeddings[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table complex_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: complex_relations[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table dependent_entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table vector_embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table complex_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
(pass) Comprehensive Dynamic Migration Tests > Migration Execution > should create vector columns with correct types [5.20ms]
[TEST] Foreign keys found: 5
[TEST] Foreign keys: [
  {
    "constraint_name": "complex_relations_base_id_fkey",
    "table_name": "complex_relations",
    "column_name": "base_id",
    "referenced_table": "base_entities"
  },
  {
    "constraint_name": "complex_relations_dependent_id_fkey",
    "table_name": "complex_relations",
    "column_name": "dependent_id",
    "referenced_table": "dependent_entities"
  },
  {
    "constraint_name": "complex_relations_vector_id_fkey",
    "table_name": "complex_relations",
    "column_name": "vector_id",
    "referenced_table": "vector_embeddings"
  },
  {
    "constraint_name": "dependent_entities_base_id_fkey",
    "table_name": "dependent_entities",
    "column_name": "base_id",
    "referenced_table": "base_entities"
  },
  {
    "constraint_name": "vector_embeddings_entity_id_fkey",
    "table_name": "vector_embeddings",
    "column_name": "entity_id",
    "referenced_table": "base_entities"
  }
]
(pass) Comprehensive Dynamic Migration Tests > Migration Execution > should create foreign key constraints properly [11.41ms]
[TEST] Unique constraints found: 0
[TEST] Unique constraints: []
349 |       );
350 | 
351 |       const uniqueConstraints = result.rows as any[];
352 |       console.log('[TEST] Unique constraints found:', uniqueConstraints.length);
353 |       console.log('[TEST] Unique constraints:', JSON.stringify(uniqueConstraints, null, 2));
354 |       expect(uniqueConstraints.length).toBeGreaterThan(0);
                                             ^
error: expect(received).toBeGreaterThan(expected)

Expected: > 0
Received: 0

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/comprehensive-migration.test.ts:354:40)
(fail) Comprehensive Dynamic Migration Tests > Migration Execution > should create unique constraints properly [1.84ms]
[TEST] Check constraints found: 17
[TEST] Check constraints: [
  {
    "constraint_name": "2200_19532_1_not_null",
    "table_name": "base_entities"
  },
  {
    "constraint_name": "2200_19532_2_not_null",
    "table_name": "base_entities"
  },
  {
    "constraint_name": "2200_19532_3_not_null",
    "table_name": "base_entities"
  },
  {
    "constraint_name": "2200_19532_4_not_null",
    "table_name": "base_entities"
  },
  {
    "constraint_name": "2200_19532_5_not_null",
    "table_name": "base_entities"
  },
  {
    "constraint_name": "2200_19532_6_not_null",
    "table_name": "base_entities"
  },
  {
    "constraint_name": "2200_19559_1_not_null",
    "table_name": "complex_relations"
  },
  {
    "constraint_name": "2200_19559_2_not_null",
    "table_name": "complex_relations"
  },
  {
    "constraint_name": "2200_19559_3_not_null",
    "table_name": "complex_relations"
  },
  {
    "constraint_name": "2200_19559_5_not_null",
    "table_name": "complex_relations"
  },
  {
    "constraint_name": "2200_19542_1_not_null",
    "table_name": "dependent_entities"
  },
  {
    "constraint_name": "2200_19542_2_not_null",
    "table_name": "dependent_entities"
  },
  {
    "constraint_name": "2200_19542_3_not_null",
    "table_name": "dependent_entities"
  },
  {
    "constraint_name": "2200_19542_5_not_null",
    "table_name": "dependent_entities"
  },
  {
    "constraint_name": "2200_19551_1_not_null",
    "table_name": "vector_embeddings"
  },
  {
    "constraint_name": "2200_19551_2_not_null",
    "table_name": "vector_embeddings"
  },
  {
    "constraint_name": "2200_19551_6_not_null",
    "table_name": "vector_embeddings"
  }
]
393 | 
394 |       // Check specific check constraints
395 |       const valuePositive = checkConstraints.find(
396 |         (cc) => cc.table_name === 'dependent_entities' && cc.constraint_name === 'value_positive'
397 |       );
398 |       expect(valuePositive).toBeDefined();
                                  ^
error: expect(received).toBeDefined()

Received: undefined

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/comprehensive-migration.test.ts:398:29)
(fail) Comprehensive Dynamic Migration Tests > Migration Execution > should create check constraints properly [1.98ms]
(pass) Comprehensive Dynamic Migration Tests > Migration Execution > should support vector similarity operations [3.82ms]
(pass) Comprehensive Dynamic Migration Tests > Data Integrity > should enforce foreign key constraints [0.95ms]
461 |               ('550e8400-e29b-41d4-a716-446655440002', 'unique-test', NOW(), NOW(), true, '{}'::jsonb)`
462 |         );
463 |       } catch (error) {
464 |         errorThrown = true;
465 |       }
466 |       expect(errorThrown).toBe(true);
                                ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/comprehensive-migration.test.ts:466:27)
(fail) Comprehensive Dynamic Migration Tests > Data Integrity > should enforce unique constraints [1.07ms]
481 |               ('550e8400-e29b-41d4-a716-446655440003', 'test', -1, '{}'::jsonb)`
482 |         );
483 |       } catch (error) {
484 |         errorThrown = true;
485 |       }
486 |       expect(errorThrown).toBe(true);
                                ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/comprehensive-migration.test.ts:486:27)
(fail) Comprehensive Dynamic Migration Tests > Data Integrity > should enforce check constraints [1.41ms]
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table dependent_entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
(pass) Comprehensive Dynamic Migration Tests > Edge Cases > should handle idempotent migrations (running same migration twice) [13.22ms]
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table vector_embeddings uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table complex_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
(pass) Comprehensive Dynamic Migration Tests > Edge Cases > should handle empty schema gracefully [2.04ms]
(pass) Comprehensive Dynamic Migration Tests > Edge Cases > should handle schema with non-table exports [4.56ms]

src/__tests__/migration/migration-service-all-dbs.test.ts:
[TEST] Setting up PGLite for migration service tests...
[2025-07-12 20:50:31] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:31] INFO: [36mRegistered schema for plugin: comprehensive-test[39m
[2025-07-12 20:50:31] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:31] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:31] INFO: [36mStarting migration for plugin: comprehensive-test[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table all_types has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[TEST] All constraints after migration: [
  {
    conname: "all_types_pkey",
    contype: "p",
    table_name: "all_types",
  }, {
    conname: "base_entities_pkey",
    contype: "p",
    table_name: "base_entities",
  }, {
    conname: "child_entities_parent_id_fkey",
    contype: "f",
    table_name: "child_entities",
  }, {
    conname: "child_entities_pkey",
    contype: "p",
    table_name: "child_entities",
  }, {
    conname: "complex_relations_all_types_id_fkey",
    contype: "f",
    table_name: "complex_relations",
  }, {
    conname: "complex_relations_child_id_fkey",
    contype: "f",
    table_name: "complex_relations",
  }, {
    conname: "complex_relations_hierarchical_id_fkey",
    contype: "f",
    table_name: "complex_relations",
  }, {
    conname: "complex_relations_parent_id_fkey",
    contype: "f",
    table_name: "complex_relations",
  }, {
    conname: "complex_relations_pkey",
    contype: "p",
    table_name: "complex_relations",
  }, {
    conname: "dependent_entities_base_id_fkey",
    contype: "f",
    table_name: "dependent_entities",
  }, {
    conname: "dependent_entities_pkey",
    contype: "p",
    table_name: "dependent_entities",
  }, {
    conname: "hierarchical_entities_pkey",
    contype: "p",
    table_name: "hierarchical_entities",
  }, {
    conname: "parent_child_relations_child_id_fkey",
    contype: "f",
    table_name: "parent_child_relations",
  }, {
    conname: "parent_child_relations_parent_id_fkey",
    contype: "f",
    table_name: "parent_child_relations",
  }, {
    conname: "parent_entities_pkey",
    contype: "p",
    table_name: "parent_entities",
  }, {
    conname: "vector_embeddings_entity_id_fkey",
    contype: "f",
    table_name: "vector_embeddings",
  }, {
    conname: "vector_embeddings_pkey",
    contype: "p",
    table_name: "vector_embeddings",
  }
]
[TEST] Unique indexes: []
[2025-07-12 20:50:31] INFO: [36mCreated table: all_types[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table parent_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: parent_entities[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table child_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: child_entities[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table hierarchical_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: hierarchical_entities[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table parent_child_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: parent_child_relations[39m
[2025-07-12 20:50:31] INFO: [36mDropped table: complex_relations[39m
[2025-07-12 20:50:31] WARN: [36m[SQL GENERATION] Table complex_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:31] INFO: [36mCreated table: complex_relations[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table child_entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table parent_child_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:31] WARN: [36m[CUSTOM MIGRATOR] Table complex_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:31] INFO: [36mAll plugin migrations completed.[39m
[TEST] Setting up PostgreSQL for migration service tests...
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "table \"all_types\" does not exist, skipping",
  file: "tablecmds.c",
  line: "1293",
  routine: "DropErrorMsgNonExistent",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "table \"parent_entities\" does not exist, skipping",
  file: "tablecmds.c",
  line: "1293",
  routine: "DropErrorMsgNonExistent",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "table \"child_entities\" does not exist, skipping",
  file: "tablecmds.c",
  line: "1293",
  routine: "DropErrorMsgNonExistent",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "table \"hierarchical_entities\" does not exist, skipping",
  file: "tablecmds.c",
  line: "1293",
  routine: "DropErrorMsgNonExistent",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "table \"parent_child_relations\" does not exist, skipping",
  file: "tablecmds.c",
  line: "1293",
  routine: "DropErrorMsgNonExistent",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "table \"complex_relations\" does not exist, skipping",
  file: "tablecmds.c",
  line: "1293",
  routine: "DropErrorMsgNonExistent",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42710",
  message: "extension \"vector\" already exists, skipping",
  file: "extension.c",
  line: "1740",
  routine: "CreateExtension",
}
[2025-07-12 20:50:31] INFO: [36mDatabaseMigrationService initialized with database[39m
[2025-07-12 20:50:31] INFO: [36mRegistered schema for plugin: comprehensive-test[39m
[2025-07-12 20:50:31] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:31] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:31] INFO: [36mStarting migration for plugin: comprehensive-test[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42710",
  message: "extension \"vector\" already exists, skipping",
  file: "extension.c",
  line: "1740",
  routine: "CreateExtension",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42710",
  message: "extension \"fuzzystrmatch\" already exists, skipping",
  file: "extension.c",
  line: "1740",
  routine: "CreateExtension",
}
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table all_types has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: all_types[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table parent_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: parent_entities[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table child_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: child_entities[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table hierarchical_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: hierarchical_entities[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table parent_child_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: parent_child_relations[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table complex_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: complex_relations[39m
[2025-07-12 20:50:32] WARN: [36m[CUSTOM MIGRATOR] Table child_entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:32] WARN: [36m[CUSTOM MIGRATOR] Table parent_child_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:32] WARN: [36m[CUSTOM MIGRATOR] Table complex_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:32] INFO: [36mAll plugin migrations completed.[39m
[TEST] Setting up Bun SQLite for migration service tests...
[TEST] SQLite foreign keys enabled: {
  foreign_keys: 1,
}
[TEST] SQLite database object: BunSQLiteDatabase {
  query: {},
  $with: [Function],
  $cache: {
    invalidate: [AsyncFunction: invalidate],
  },
  resultKind: "sync",
  dialect: SQLiteSyncDialect {
    casing: CasingCache {
      cache: {},
      cachedTables: {},
      convert: [Function: noopCase],
      getColumnCasing: [Function: getColumnCasing],
      cacheTable: [Function: cacheTable],
      clearCache: [Function: clearCache],
    },
    migrate: [Function: migrate],
    escapeName: [Function: escapeName],
    escapeParam: [Function: escapeParam],
    escapeString: [Function: escapeString],
    buildWithCTE: [Function: buildWithCTE],
    buildDeleteQuery: [Function: buildDeleteQuery],
    buildUpdateSet: [Function: buildUpdateSet],
    buildUpdateQuery: [Function: buildUpdateQuery],
    buildSelection: [Function: buildSelection],
    buildJoins: [Function: buildJoins],
    buildLimit: [Function: buildLimit],
    buildOrderBy: [Function: buildOrderBy],
    buildFromTable: [Function: buildFromTable],
    buildSelectQuery: [Function: buildSelectQuery],
    buildSetOperations: [Function: buildSetOperations],
    buildSetOperationQuery: [Function: buildSetOperationQuery],
    buildInsertQuery: [Function: buildInsertQuery],
    sqlToQuery: [Function: sqlToQuery],
    buildRelationalQuery: [Function: buildRelationalQuery],
  },
  session: SQLiteBunSession {
    dialect: SQLiteSyncDialect {
      casing: CasingCache {
        cache: {},
        cachedTables: {},
        convert: [Function: noopCase],
        getColumnCasing: [Function: getColumnCasing],
        cacheTable: [Function: cacheTable],
        clearCache: [Function: clearCache],
      },
      migrate: [Function: migrate],
      escapeName: [Function: escapeName],
      escapeParam: [Function: escapeParam],
      escapeString: [Function: escapeString],
      buildWithCTE: [Function: buildWithCTE],
      buildDeleteQuery: [Function: buildDeleteQuery],
      buildUpdateSet: [Function: buildUpdateSet],
      buildUpdateQuery: [Function: buildUpdateQuery],
      buildSelection: [Function: buildSelection],
      buildJoins: [Function: buildJoins],
      buildLimit: [Function: buildLimit],
      buildOrderBy: [Function: buildOrderBy],
      buildFromTable: [Function: buildFromTable],
      buildSelectQuery: [Function: buildSelectQuery],
      buildSetOperations: [Function: buildSetOperations],
      buildSetOperationQuery: [Function: buildSetOperationQuery],
      buildInsertQuery: [Function: buildInsertQuery],
      sqlToQuery: [Function: sqlToQuery],
      buildRelationalQuery: [Function: buildRelationalQuery],
    },
    logger: NoopLogger {
      logQuery: [Function: logQuery],
    },
    client: Database {
      filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-migration-test-b89d6008_7c2b_42-6MFeH4/test.db",
      handle: [Getter],
      inTransaction: [Getter],
      loadExtension: [Function: loadExtension],
      serialize: [Function: serialize],
      fileControl: [Function: fileControl],
      close: [Function: close],
      clearQueryCache: [Function: clearQueryCache],
      run: [Function: run],
      prepare: [Function: prepare],
      query: [Function: query],
      transaction: [Function: transaction],
      exec: [Function: run],
      [Symbol(Symbol.dispose)]: [Function],
      [Symbol(Bun.Database.cache.count)]: [Getter],
    },
    schema: undefined,
    exec: [Function: exec],
    prepareQuery: [Function: prepareQuery],
    transaction: [Function: transaction],
    prepareOneTimeQuery: [Function: prepareOneTimeQuery],
    run: [Function: run],
    extractRawRunValueFromBatchResult: [Function: extractRawRunValueFromBatchResult],
    all: [Function: all],
    extractRawAllValueFromBatchResult: [Function: extractRawAllValueFromBatchResult],
    get: [Function: get],
    extractRawGetValueFromBatchResult: [Function: extractRawGetValueFromBatchResult],
    values: [Function: values],
    count: [AsyncFunction: count],
    extractRawValuesValueFromBatchResult: [Function: extractRawValuesValueFromBatchResult],
  },
  _: {
    schema: undefined,
    fullSchema: {},
    tableNamesMap: {},
  },
  $client: Database {
    filename: "/var/folders/1g/77s889gx10n7mtl6z1nfrxzm0000gn/T/eliza-migration-test-b89d6008_7c2b_42-6MFeH4/test.db",
    handle: [Getter],
    inTransaction: [Getter],
    loadExtension: [Function: loadExtension],
    serialize: [Function: serialize],
    fileControl: [Function: fileControl],
    close: [Function: close],
    clearQueryCache: [Function: clearQueryCache],
    run: [Function: run],
    prepare: [Function: prepare],
    query: [Function: query],
    transaction: [Function: transaction],
    exec: [Function: run],
    [Symbol(Symbol.dispose)]: [Function],
    [Symbol(Bun.Database.cache.count)]: [Getter],
  },
  execute: [AsyncFunction],
  $count: [Function: $count],
  with: [Function: with],
  select: [Function: select],
  selectDistinct: [Function: selectDistinct],
  update: [Function: update],
  insert: [Function: insert],
  delete: [Function: delete],
  run: [Function: run],
  all: [Function: all],
  get: [Function: get],
  values: [Function: values],
  transaction: [Function: transaction],
}
[2025-07-12 20:50:32] INFO: [36mDatabaseMigrationService initialized with database[39m
[TEST] SQLite tables after migration: [ "all_types", "parent_entities", "child_entities",
  "hierarchical_entities", "parent_child_relations", "complex_relations"
]
[TEST] all_types table exists, row count: 0
[2025-07-12 20:50:32] INFO: [36mRegistered schema for plugin: comprehensive-test[39m
[2025-07-12 20:50:32] INFO: [36mDiscovered 1 plugin schemas out of 1 plugins[39m
[2025-07-12 20:50:32] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:32] INFO: [36mStarting migration for plugin: comprehensive-test[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table all_types has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: all_types[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table parent_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: parent_entities[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table child_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: child_entities[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table hierarchical_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: hierarchical_entities[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table parent_child_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: parent_child_relations[39m
[2025-07-12 20:50:32] WARN: [36m[SQL GENERATION] Table complex_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:32] INFO: [36mCreated table: complex_relations[39m
[2025-07-12 20:50:32] INFO: [36mAll plugin migrations completed.[39m
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Table Creation > should create all tables from the schema [4.82ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Table Creation > should create tables in correct dependency order [2.47ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Data Types > should correctly handle all data types [1.73ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Data Types > should handle vector columns correctly [1.78ms]
PGLite unique constraint check: []
All constraints on all_types: [
  {
    conname: "all_types_pkey",
    contype: "p",
  }
]
984 |             );
985 |             console.log('[TEST] SQLite records with same unique value:', checkResult.rows.length);
986 |             console.log('[TEST] SQLite records:', checkResult.rows);
987 |           }
988 | 
989 |           expect(errorThrown).toBe(true);
                                    ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/migration-service-all-dbs.test.ts:989:31)
(fail) Migration Service Tests - All Databases > PGLite Migration Service > Constraints > should enforce unique constraints [2.89ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Constraints > should enforce foreign key constraints [0.98ms]
1032 |             }
1033 |           } catch (error) {
1034 |             errorThrown = true;
1035 |           }
1036 | 
1037 |           expect(errorThrown).toBe(true);
                                     ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/migration-service-all-dbs.test.ts:1037:31)
(fail) Migration Service Tests - All Databases > PGLite Migration Service > Constraints > should enforce check constraints [1.04ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Constraints > should handle cascade deletes [3.49ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Complex Relationships > should handle self-referential relationships [2.20ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Complex Relationships > should handle many-to-many relationships [5.33ms]
[2025-07-12 20:50:33] INFO: [36mRunning migrations for 1 plugins...[39m
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Migration Idempotency > should handle running migrations multiple times [19.05ms]
[2025-07-12 20:50:33] INFO: [36mStarting migration for plugin: comprehensive-test[39m
[2025-07-12 20:50:33] WARN: [36m[CUSTOM MIGRATOR] Table child_entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:33] WARN: [36m[CUSTOM MIGRATOR] Table parent_child_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:33] WARN: [36m[CUSTOM MIGRATOR] Table complex_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:33] INFO: [36mAll plugin migrations completed.[39m
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Retrieval Functions > should retrieve data with complex joins [1.24ms]
(pass) Migration Service Tests - All Databases > PGLite Migration Service > Retrieval Functions > should perform aggregation queries [1.33ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Table Creation > should create all tables from the schema [325.47ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Table Creation > should create tables in correct dependency order [164.01ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Data Types > should correctly handle all data types [102.11ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Data Types > should handle vector columns correctly [119.25ms]
984 |             );
985 |             console.log('[TEST] SQLite records with same unique value:', checkResult.rows.length);
986 |             console.log('[TEST] SQLite records:', checkResult.rows);
987 |           }
988 | 
989 |           expect(errorThrown).toBe(true);
                                    ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/migration-service-all-dbs.test.ts:989:31)
(fail) Migration Service Tests - All Databases > PostgreSQL Migration Service > Constraints > should enforce unique constraints [728.51ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Constraints > should enforce foreign key constraints [51.57ms]
1032 |             }
1033 |           } catch (error) {
1034 |             errorThrown = true;
1035 |           }
1036 | 
1037 |           expect(errorThrown).toBe(true);
                                     ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/migration-service-all-dbs.test.ts:1037:31)
(fail) Migration Service Tests - All Databases > PostgreSQL Migration Service > Constraints > should enforce check constraints [53.15ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Constraints > should handle cascade deletes [270.88ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Complex Relationships > should handle self-referential relationships [271.35ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Complex Relationships > should handle many-to-many relationships [905.46ms]
[2025-07-12 20:50:36] INFO: [36mRunning migrations for 1 plugins...[39m
[2025-07-12 20:50:36] INFO: [36mStarting migration for plugin: comprehensive-test[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42710",
  message: "extension \"vector\" already exists, skipping",
  file: "extension.c",
  line: "1740",
  routine: "CreateExtension",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42710",
  message: "extension \"fuzzystrmatch\" already exists, skipping",
  file: "extension.c",
  line: "1740",
  routine: "CreateExtension",
}
[2025-07-12 20:50:37] WARN: [36m[SQL GENERATION] Table all_types has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42P07",
  message: "relation \"all_types\" already exists, skipping",
  file: "parse_utilcmd.c",
  line: "207",
  routine: "transformCreateStmt",
}
[2025-07-12 20:50:37] INFO: [36mCreated table: all_types[39m
[2025-07-12 20:50:37] WARN: [36m[SQL GENERATION] Table parent_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42P07",
  message: "relation \"parent_entities\" already exists, skipping",
  file: "parse_utilcmd.c",
  line: "207",
  routine: "transformCreateStmt",
}
[2025-07-12 20:50:37] INFO: [36mCreated table: parent_entities[39m
[2025-07-12 20:50:37] WARN: [36m[SQL GENERATION] Table child_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42P07",
  message: "relation \"child_entities\" already exists, skipping",
  file: "parse_utilcmd.c",
  line: "207",
  routine: "transformCreateStmt",
}
[2025-07-12 20:50:37] INFO: [36mCreated table: child_entities[39m
[2025-07-12 20:50:37] WARN: [36m[SQL GENERATION] Table hierarchical_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42P07",
  message: "relation \"hierarchical_entities\" already exists, skipping",
  file: "parse_utilcmd.c",
  line: "207",
  routine: "transformCreateStmt",
}
[2025-07-12 20:50:37] INFO: [36mCreated table: hierarchical_entities[39m
[2025-07-12 20:50:37] WARN: [36m[SQL GENERATION] Table parent_child_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42P07",
  message: "relation \"parent_child_relations\" already exists, skipping",
  file: "parse_utilcmd.c",
  line: "207",
  routine: "transformCreateStmt",
}
[2025-07-12 20:50:37] INFO: [36mCreated table: parent_child_relations[39m
[2025-07-12 20:50:37] WARN: [36m[SQL GENERATION] Table complex_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "42P07",
  message: "relation \"complex_relations\" already exists, skipping",
  file: "parse_utilcmd.c",
  line: "207",
  routine: "transformCreateStmt",
}
[2025-07-12 20:50:37] INFO: [36mCreated table: complex_relations[39m
[2025-07-12 20:50:37] WARN: [36m[CUSTOM MIGRATOR] Table child_entities uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:37] WARN: [36m[CUSTOM MIGRATOR] Table parent_child_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:37] WARN: [36m[CUSTOM MIGRATOR] Table complex_relations uses Drizzle's constraint builders (unique(), index(), check()). Due to a limitation in Drizzle's API, these constraints cannot be automatically extracted and created. To add these constraints, please either:
1. Use Drizzle's native migration system (drizzle-kit)
2. Manually run ALTER TABLE statements after migration
3. Use our custom schema format instead of Drizzle's constraint builders[39m
[2025-07-12 20:50:38] INFO: [36mAll plugin migrations completed.[39m
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Migration Idempotency > should handle running migrations multiple times [1193.20ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Retrieval Functions > should retrieve data with complex joins [28.93ms]
(pass) Migration Service Tests - All Databases > PostgreSQL Migration Service > Retrieval Functions > should perform aggregation queries [32.78ms]
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "drop cascades to constraint complex_relations_all_types_id_fkey on table complex_relations",
  file: "dependency.c",
  line: "1224",
  routine: "reportDependentObjects",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "drop cascades to 3 other objects",
  detail: "drop cascades to constraint child_entities_parent_id_fkey on table child_entities\ndrop cascades to constraint parent_child_relations_parent_id_fkey on table parent_child_relations\ndrop cascades to constraint complex_relations_parent_id_fkey on table complex_relations",
  file: "dependency.c",
  line: "1213",
  routine: "reportDependentObjects",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "drop cascades to 2 other objects",
  detail: "drop cascades to constraint parent_child_relations_child_id_fkey on table parent_child_relations\ndrop cascades to constraint complex_relations_child_id_fkey on table complex_relations",
  file: "dependency.c",
  line: "1213",
  routine: "reportDependentObjects",
}
{
  severity_local: "NOTICE",
  severity: "NOTICE",
  code: "00000",
  message: "drop cascades to constraint complex_relations_hierarchical_id_fkey on table complex_relations",
  file: "dependency.c",
  line: "1224",
  routine: "reportDependentObjects",
}
[TEST] Checking table: all_types
[TEST] SQL query object: SQL {
  decoder: {
    mapFromDriverValue: [Function: mapFromDriverValue],
  },
  shouldInlineParams: false,
  usedTables: [],
  queryChunks: [
    StringChunk {
      value: [ "SELECT name FROM sqlite_master WHERE type='table' AND name=" ],
      getSQL: [Function: getSQL],
    }, "all_types", StringChunk {
      value: [ "" ],
      getSQL: [Function: getSQL],
    }
  ],
  append: [Function: append],
  toQuery: [Function: toQuery],
  buildQueryFromSourceParams: [Function: buildQueryFromSourceParams],
  mapInlineParam: [Function: mapInlineParam],
  getSQL: [Function: getSQL],
  as: [Function: as],
  mapWith: [Function: mapWith],
  inlineParams: [Function: inlineParams],
  if: [Function: if],
}
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite table all_types exists: true
[TEST] Checking table: parent_entities
[TEST] SQL query object: SQL {
  decoder: {
    mapFromDriverValue: [Function: mapFromDriverValue],
  },
  shouldInlineParams: false,
  usedTables: [],
  queryChunks: [
    StringChunk {
      value: [ "SELECT name FROM sqlite_master WHERE type='table' AND name=" ],
      getSQL: [Function: getSQL],
    }, "parent_entities", StringChunk {
      value: [ "" ],
      getSQL: [Function: getSQL],
    }
  ],
  append: [Function: append],
  toQuery: [Function: toQuery],
  buildQueryFromSourceParams: [Function: buildQueryFromSourceParams],
  mapInlineParam: [Function: mapInlineParam],
  getSQL: [Function: getSQL],
  as: [Function: as],
  mapWith: [Function: mapWith],
  inlineParams: [Function: inlineParams],
  if: [Function: if],
}
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite table parent_entities exists: true
[TEST] Checking table: child_entities
[TEST] SQL query object: SQL {
  decoder: {
    mapFromDriverValue: [Function: mapFromDriverValue],
  },
  shouldInlineParams: false,
  usedTables: [],
  queryChunks: [
    StringChunk {
      value: [ "SELECT name FROM sqlite_master WHERE type='table' AND name=" ],
      getSQL: [Function: getSQL],
    }, "child_entities", StringChunk {
      value: [ "" ],
      getSQL: [Function: getSQL],
    }
  ],
  append: [Function: append],
  toQuery: [Function: toQuery],
  buildQueryFromSourceParams: [Function: buildQueryFromSourceParams],
  mapInlineParam: [Function: mapInlineParam],
  getSQL: [Function: getSQL],
  as: [Function: as],
  mapWith: [Function: mapWith],
  inlineParams: [Function: inlineParams],
  if: [Function: if],
}
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite table child_entities exists: true
[TEST] Checking table: hierarchical_entities
[TEST] SQL query object: SQL {
  decoder: {
    mapFromDriverValue: [Function: mapFromDriverValue],
  },
  shouldInlineParams: false,
  usedTables: [],
  queryChunks: [
    StringChunk {
      value: [ "SELECT name FROM sqlite_master WHERE type='table' AND name=" ],
      getSQL: [Function: getSQL],
    }, "hierarchical_entities", StringChunk {
      value: [ "" ],
      getSQL: [Function: getSQL],
    }
  ],
  append: [Function: append],
  toQuery: [Function: toQuery],
  buildQueryFromSourceParams: [Function: buildQueryFromSourceParams],
  mapInlineParam: [Function: mapInlineParam],
  getSQL: [Function: getSQL],
  as: [Function: as],
  mapWith: [Function: mapWith],
  inlineParams: [Function: inlineParams],
  if: [Function: if],
}
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite table hierarchical_entities exists: true
[TEST] Checking table: parent_child_relations
[TEST] SQL query object: SQL {
  decoder: {
    mapFromDriverValue: [Function: mapFromDriverValue],
  },
  shouldInlineParams: false,
  usedTables: [],
  queryChunks: [
    StringChunk {
      value: [ "SELECT name FROM sqlite_master WHERE type='table' AND name=" ],
      getSQL: [Function: getSQL],
    }, "parent_child_relations", StringChunk {
      value: [ "" ],
      getSQL: [Function: getSQL],
    }
  ],
  append: [Function: append],
  toQuery: [Function: toQuery],
  buildQueryFromSourceParams: [Function: buildQueryFromSourceParams],
  mapInlineParam: [Function: mapInlineParam],
  getSQL: [Function: getSQL],
  as: [Function: as],
  mapWith: [Function: mapWith],
  inlineParams: [Function: inlineParams],
  if: [Function: if],
}
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite table parent_child_relations exists: true
[TEST] Checking table: complex_relations
[TEST] SQL query object: SQL {
  decoder: {
    mapFromDriverValue: [Function: mapFromDriverValue],
  },
  shouldInlineParams: false,
  usedTables: [],
  queryChunks: [
    StringChunk {
      value: [ "SELECT name FROM sqlite_master WHERE type='table' AND name=" ],
      getSQL: [Function: getSQL],
    }, "complex_relations", StringChunk {
      value: [ "" ],
      getSQL: [Function: getSQL],
    }
  ],
  append: [Function: append],
  toQuery: [Function: toQuery],
  buildQueryFromSourceParams: [Function: buildQueryFromSourceParams],
  mapInlineParam: [Function: mapInlineParam],
  getSQL: [Function: getSQL],
  as: [Function: as],
  mapWith: [Function: mapWith],
  inlineParams: [Function: inlineParams],
  if: [Function: if],
}
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite table complex_relations exists: true
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Table Creation > should create all tables from the schema [0.46ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Table Creation > should create tables in correct dependency order [1.03ms]
[BUN SQLITE] String chunk, adding as parameter
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Data Types > should correctly handle all data types [0.33ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[TEST] SQLite records with same unique value: 2
[TEST] SQLite records: [
  {
    id: "00ee6afa-b764-4263-a3a3-a253bae2baad",
    varchar_col: "unique-test-value",
    text_col: null,
    integer_col: 1,
    decimal_col: null,
    real_col: null,
    double_col: null,
    boolean_col: 0,
    jsonb_col: "{}",
    timestamp_col: null,
    timestamp_tz_col: null,
    date_col: null,
    time_col: null,
    embedding_384: null,
  }, {
    id: "51e5783e-096a-4b23-8ea3-4387f5d72cc3",
    varchar_col: "unique-test-value",
    text_col: null,
    integer_col: 1,
    decimal_col: null,
    real_col: null,
    double_col: null,
    boolean_col: 0,
    jsonb_col: "{}",
    timestamp_col: null,
    timestamp_tz_col: null,
    date_col: null,
    time_col: null,
    embedding_384: null,
  }
]
984 |             );
985 |             console.log('[TEST] SQLite records with same unique value:', checkResult.rows.length);
986 |             console.log('[TEST] SQLite records:', checkResult.rows);
987 |           }
988 | 
989 |           expect(errorThrown).toBe(true);
                                    ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/migration-service-all-dbs.test.ts:989:31)
(fail) Migration Service Tests - All Databases > Bun SQLite Migration Service > Constraints > should enforce unique constraints [0.68ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] Query execution error: NOT NULL constraint failed: child_entities.order_index
[BUN SQLITE] SQL: INSERT INTO child_entities (id, parent_id, name) 
                    VALUES (?, ?, ?)
[BUN SQLITE] Params: [ "aa2b1d9b-2644-44b9-800b-c4248e2b74ea", "49a96581-aec1-4f59-aca7-b85e545996a4",
  "orphan"
]
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Constraints > should enforce foreign key constraints [0.23ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
1032 |             }
1033 |           } catch (error) {
1034 |             errorThrown = true;
1035 |           }
1036 | 
1037 |           expect(errorThrown).toBe(true);
                                     ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/migration/migration-service-all-dbs.test.ts:1037:31)
(fail) Migration Service Tests - All Databases > Bun SQLite Migration Service > Constraints > should enforce check constraints [0.37ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Constraints > should handle cascade deletes [1.50ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Complex Relationships > should handle self-referential relationships [1.12ms]
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
[BUN SQLITE] String chunk, adding as parameter
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Complex Relationships > should handle many-to-many relationships [2.30ms]
[2025-07-12 20:50:38] INFO: [36mRunning migrations for 1 plugins...[39m
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Migration Idempotency > should handle running migrations multiple times [4.50ms]
[2025-07-12 20:50:38] INFO: [36mStarting migration for plugin: comprehensive-test[39m
[2025-07-12 20:50:38] INFO: [36mDropped table: all_types[39m
[2025-07-12 20:50:38] WARN: [36m[SQL GENERATION] Table all_types has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:38] INFO: [36mCreated table: all_types[39m
[2025-07-12 20:50:38] INFO: [36mDropped table: parent_entities[39m
[2025-07-12 20:50:38] WARN: [36m[SQL GENERATION] Table parent_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:38] INFO: [36mCreated table: parent_entities[39m
[2025-07-12 20:50:38] INFO: [36mDropped table: child_entities[39m
[2025-07-12 20:50:38] WARN: [36m[SQL GENERATION] Table child_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:38] INFO: [36mCreated table: child_entities[39m
[2025-07-12 20:50:38] INFO: [36mDropped table: hierarchical_entities[39m
[2025-07-12 20:50:38] WARN: [36m[SQL GENERATION] Table hierarchical_entities has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:38] INFO: [36mCreated table: hierarchical_entities[39m
[2025-07-12 20:50:38] INFO: [36mDropped table: parent_child_relations[39m
[2025-07-12 20:50:38] WARN: [36m[SQL GENERATION] Table parent_child_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:38] INFO: [36mCreated table: parent_child_relations[39m
[2025-07-12 20:50:38] INFO: [36mDropped table: complex_relations[39m
[2025-07-12 20:50:38] WARN: [36m[SQL GENERATION] Table complex_relations has Drizzle constraint builders that cannot be extracted. Constraints defined via Drizzle's unique(), index(), check() etc. will not be created. Please use ALTER TABLE statements or our custom schema format for constraints.[39m
[2025-07-12 20:50:38] INFO: [36mCreated table: complex_relations[39m
[2025-07-12 20:50:38] INFO: [36mAll plugin migrations completed.[39m
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Retrieval Functions > should retrieve data with complex joins [0.14ms]
(pass) Migration Service Tests - All Databases > Bun SQLite Migration Service > Retrieval Functions > should perform aggregation queries [0.03ms]

src/__tests__/unit/pg/manager.test.ts:
(pass) PostgresConnectionManager > constructor > should create an instance with connection URL [3.63ms]
(pass) PostgresConnectionManager > getDatabase > should return the drizzle database instance [0.05ms]
(pass) PostgresConnectionManager > getConnection > should return the pool instance [0.04ms]
(pass) PostgresConnectionManager > getClient > should return a client from the pool [0.05ms]
(pass) PostgresConnectionManager > getClient > should throw error when pool connection fails [0.05ms]
(pass) PostgresConnectionManager > testConnection > should return true when connection is successful [0.11ms]
[2025-07-12 20:50:38] ERROR: [36mFailed to connect to the database:[39m
    message: "(Error) Connection failed"
    stack: [
      "Error: Connection failed",
      "at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/unit/pg/manager.test.ts:109:54)",
      "at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/unit/pg/manager.test.ts:105:53)"
    ]
(pass) PostgresConnectionManager > testConnection > should return false when connection fails [3.69ms]
[2025-07-12 20:50:38] ERROR: [36mFailed to connect to the database:[39m
    message: "(Error) Query failed"
    stack: [
      "Error: Query failed",
      "at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/unit/pg/manager.test.ts:120:45)",
      "at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/unit/pg/manager.test.ts:115:48)"
    ]
(pass) PostgresConnectionManager > testConnection > should return false when query fails [0.91ms]
(pass) PostgresConnectionManager > close > should end the pool connection [0.13ms]
[2025-07-12 20:50:38] ERROR: [36mError closing PostgreSQL connection pool:[39m
    message: "(Error) Close failed"
    stack: [
      "Error: Close failed",
      "at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/unit/pg/manager.test.ts:147:50)",
      "at <anonymous> (/Users/shawwalters/eliza-dev/packages/plugin-sql/src/__tests__/unit/pg/manager.test.ts:143:48)"
    ]
(pass) PostgresConnectionManager > close > should propagate errors during close [0.74ms]

src/__tests__/unit/pg/adapter.test.ts:
(pass) PgDatabaseAdapter > constructor > should initialize with correct agentId and manager
(pass) PgDatabaseAdapter > constructor > should set embeddingDimension to default 384
(pass) PgDatabaseAdapter > runMigrations > should be a no-op [0.07ms]
(pass) PgDatabaseAdapter > init > should complete initialization [0.02ms]
(pass) PgDatabaseAdapter > isReady > should return true when connection is healthy [0.05ms]
(pass) PgDatabaseAdapter > isReady > should return false when connection is unhealthy [0.10ms]
(pass) PgDatabaseAdapter > close > should close the manager [0.03ms]
(pass) PgDatabaseAdapter > close > should handle close errors gracefully [0.04ms]
(pass) PgDatabaseAdapter > getConnection > should return connection from manager [0.04ms]
(pass) PgDatabaseAdapter > database operations > should handle database operation errors [0.01ms]
(pass) PgDatabaseAdapter > database operations > should use the database from manager

src/__tests__/unit/pglite/manager.test.ts:
(pass) PGliteClientManager > constructor > should create a PGLite client with the provided options [0.86ms]
(pass) PGliteClientManager > constructor > should initialize shuttingDown to false [0.43ms]
(pass) PGliteClientManager > getConnection > should return the PGLite client [0.53ms]
(pass) PGliteClientManager > isShuttingDown > should return false initially [0.42ms]
(pass) PGliteClientManager > isShuttingDown > should return true after close is called [435.18ms]
(pass) PGliteClientManager > close > should set shuttingDown to true immediately [455.46ms]
(pass) PGliteClientManager > close > should return a promise [0.54ms]
(pass) PGliteClientManager > close > should handle multiple close calls [484.36ms]
(pass) PGliteClientManager > edge cases > should handle empty data directory [0.43ms]
(pass) PGliteClientManager > edge cases > should maintain state consistency during concurrent close calls [456.09ms]

src/__tests__/unit/pglite/adapter.test.ts:
(pass) PgliteDatabaseAdapter > constructor > should initialize with correct agentId and manager
(pass) PgliteDatabaseAdapter > constructor > should set embeddingDimension to default 384 [0.02ms]
(pass) PgliteDatabaseAdapter > runMigrations > should be a no-op
(pass) PgliteDatabaseAdapter > init > should complete initialization
(pass) PgliteDatabaseAdapter > close > should close the manager [0.02ms]
(pass) PgliteDatabaseAdapter > isReady > should return true when manager is not shutting down [0.02ms]
(pass) PgliteDatabaseAdapter > isReady > should return false when manager is shutting down [0.02ms]
(pass) PgliteDatabaseAdapter > getConnection > should return the connection from manager [0.02ms]
(pass) PgliteDatabaseAdapter > database operations > should use the connection from manager for operations
(pass) PgliteDatabaseAdapter > database operations > should handle query errors gracefully [0.04ms]

1 tests skipped:
(skip) Vector Support Verification > PGLite Vector Support > should support vector operations with PGLite vector extension


11 tests failed:
(fail) Entity CRUD Operations > Basic CRUD Operations > should create and retrieve an entity [12833660.76ms]
(fail) Comprehensive Dynamic Migration Tests > Migration Execution > should create unique constraints properly [1.84ms]
(fail) Comprehensive Dynamic Migration Tests > Migration Execution > should create check constraints properly [1.98ms]
(fail) Comprehensive Dynamic Migration Tests > Data Integrity > should enforce unique constraints [1.07ms]
(fail) Comprehensive Dynamic Migration Tests > Data Integrity > should enforce check constraints [1.41ms]
(fail) Migration Service Tests - All Databases > PGLite Migration Service > Constraints > should enforce unique constraints [2.89ms]
(fail) Migration Service Tests - All Databases > PGLite Migration Service > Constraints > should enforce check constraints [1.04ms]
(fail) Migration Service Tests - All Databases > PostgreSQL Migration Service > Constraints > should enforce unique constraints [728.51ms]
(fail) Migration Service Tests - All Databases > PostgreSQL Migration Service > Constraints > should enforce check constraints [53.15ms]
(fail) Migration Service Tests - All Databases > Bun SQLite Migration Service > Constraints > should enforce unique constraints [0.68ms]
(fail) Migration Service Tests - All Databases > Bun SQLite Migration Service > Constraints > should enforce check constraints [0.37ms]
-----------------------------------------------------|---------|---------|-------------------
File                                                 | % Funcs | % Lines | Uncovered Line #s
-----------------------------------------------------|---------|---------|-------------------
All files                                            |   71.35 |   84.58 |
 ../core/dist/chunk-2HSL25IJ.js                      |    0.00 |    7.69 | 1-9,14-23,27-32
 ../core/dist/chunk-JX2SRFHQ.js                      |    0.00 |    6.25 | 6-22,25-52
 ../core/dist/chunk-QZR5LTYF.js                      |    7.47 |   22.61 | 127-130,271-279,282,285,288,291,294,297,300,303,306,309-319,331-341,347-381,384,387,397,427-435,438,441,444,447,450,453,456,459,503-507,531-541,545,548-558,649-650,674-675,685-686,789,797,870,876-880,960-967,977-980,989-999,1002-1008,1011-1023,1026-1028,1031-1039,1042-1081,1084-1114,1117-1133,1137-1176,1179-1193,1196-1200,1203-1221,1224-1235,1238-1250,1253-1261,1265-1275,1279-1280,1315-1321,1324-1325,1389-1402,1405-1414,1418,1424-1448,1451-1466,1469-1470,1473-1474,1644-1655,1658-1673,1681-1690,1694-1706,1710-1723,1727-1739,1743,1746-2147,2198-2205,2222-2241,2267,2276-2277,2288-2308,2318-2320,2331-2343,2354-2373,2383-2432,2439-2448,2458-2478,2490-2532,2543-2609,2621-2631,2640,2649-2652,2658-2663,2670-2678,2686-2696,2699-2704,2767,2773-2774,2780,2786-2874,2877-3004,3007-3016,3020-3024,3027,3040-3041,3044-3055,3059,3063,3066-3802,3805-3810,3819,3826,3834-3869,3873-3889,3892-3977,3981-3984,3987-4034,4038-4043,4046,4050-4358,4361-4364,4367-4374,4377-4402,4406-4440,4447-4459,4462-4468,4471-4499,4502-4532,4536-4540,4543-4547,4550-4554,4557-4561,4564-4577,4580-4587,4590-4608,4611-4619,4622-4630,4633-4641,4644-4652,4658-4659,4665-4666,4672-4673,4679-4680,4686-4709,4713,4716,4759-4762,4765-4768,4771,4774,4779-4794,4800-4867,4874-4877,4897-4904,4907,4914,4921,4928,4935,4942-5065,5071-5075,5078,5119-5148,5151-5250,5253-5257,5260-5293,5296-5303,5308-5309,5312,5315-5318,5321,5327-5328,5331-5332,5335-5336,5339-5340,5343-5344,5347-5348,5351-5352,5355-5356,5359-5360,5363-5364,5378,5381,5387-5390,5393,5397-5434,5437-5450,5453-5462,5465,5468,5475,5478,5485-5491,5498-5504,5511-5620,5623-5626,5629-5632,5635-5646,5649,5652-5658,5661,5667-5883,5887,5890,5893-5896,5904-5915,5919,5922,5925,5928,5934,5937,5940,5943,5946,5949,5952,5955,5958,5961,5964,5967,5970,5973,5976,5981-5984,5987-5990,5993,5996-6000,6003-6006,6009,6012,6015,6018,6021,6024,6027,6030,6033,6039-6040,6044
 ../core/dist/chunk-R5U7XKVJ.js                      |   50.00 |   70.00 | 3-5
 ../core/dist/chunk-U2ADTLZY.js                      |    0.00 |    5.56 | 1-11,14-23,26-32,35-41
 ../core/dist/chunk-WO7Z3GE6.js                      |   77.78 |   92.81 | 62-64,67-73
 ../core/dist/chunk-YIBXLDIR.js                      |    0.00 |   32.35 | 11-22,25-35
 ../core/dist/index.js                               |  100.00 |  100.00 | 
 src/__tests__/e2e/index.ts                          |  100.00 |  100.00 | 
 src/__tests__/e2e/sql-plugin-runtime-integration.ts |    0.00 |    4.28 | 14-101,107-266,272-359,365-505,511-647,653-754
 src/__tests__/fixtures/index.ts                     |    0.00 |   97.50 | 
 src/__tests__/integration/seed/agent-seed.ts        |  100.00 |  100.00 | 
 src/__tests__/integration/seed/cache-seed.ts        |  100.00 |  100.00 | 
 src/__tests__/integration/seed/component-seed.ts    |  100.00 |  100.00 | 
 src/__tests__/integration/seed/embedding-seed.ts    |  100.00 |  100.00 | 
 src/__tests__/integration/seed/entity-seed.ts       |  100.00 |  100.00 | 
 src/__tests__/integration/seed/index.ts             |  100.00 |  100.00 | 
 src/__tests__/integration/seed/log-seed.ts          |  100.00 |  100.00 | 
 src/__tests__/integration/seed/memory-seed.ts       |   83.33 |   86.36 | 192-218
 src/__tests__/integration/seed/participant-seed.ts  |  100.00 |  100.00 | 
 src/__tests__/integration/seed/relationship-seed.ts |    0.00 |   81.33 | 72-85
 src/__tests__/integration/seed/room-seed.ts         |    0.00 |   89.53 | 87-95
 src/__tests__/integration/seed/task-seed.ts         |  100.00 |  100.00 | 
 src/__tests__/integration/seed/world-seed.ts        |  100.00 |  100.00 | 
 src/__tests__/test-helpers.ts                       |   92.31 |   75.00 | 40,44,99,109,111,114-116,119-125,127-131,133-138,140-143,145-148,150-152,154-156,217,224,262
 src/base.ts                                         |   89.47 |   67.56 | 77-87,641-728,793-819,978-1029,1788,1841-1872,2163-2265,2637-2659,2824-2873,2901-3007,3072-3157,3236-3467,3472
 src/bun-sqlite/adapter.ts                           |   76.09 |   61.09 | 251-253,467-535,1161-1166,1174-1182,1231-1238,1259-1313,1332-1339,1345-1413,1820-2155
 src/bun-sqlite/extension-manager.ts                 |    0.00 |   11.43 | 31-61,68-123,130-162,169-172
 src/bun-sqlite/schema/index.ts                      |    0.00 |  100.00 | 
 src/custom-migrator.ts                              |   79.41 |   63.10 | 37-49,524-607,682-740,747-779,786-896,903-946,953-970,977-995,1002-1171,1178-1205,1212-1234,1241-1302,1309-1333,1340-1360,1496-1505,2071-2098
 src/index.ts                                        |  100.00 |   76.15 | 77,88-92,101,120-124,127,129,131-133,135-139,141-147,150-151
 src/migration-service.ts                            |  100.00 |  100.00 | 
 src/pg/adapter.ts                                   |   93.18 |   97.27 | 163,179
 src/pg/manager.ts                                   |   90.00 |   98.08 | 
 src/pglite/adapter.ts                               |   86.67 |   92.31 | 106
 src/pglite/manager.ts                               |  100.00 |  100.00 | 
 src/schema/agent.ts                                 |   33.33 |  100.00 | 
 src/schema/cache.ts                                 |   66.67 |  100.00 | 
 src/schema/channel.ts                               |  100.00 |  100.00 | 
 src/schema/channelParticipant.ts                    |  100.00 |  100.00 | 
 src/schema/component.ts                             |  100.00 |  100.00 | 
 src/schema/embedding.ts                             |   66.67 |  100.00 | 
 src/schema/entity.ts                                |   50.00 |  100.00 | 
 src/schema/factory.ts                               |  100.00 |  100.00 | 
 src/schema/index.ts                                 |  100.00 |  100.00 | 
 src/schema/log.ts                                   |  100.00 |  100.00 | 
 src/schema/memory.ts                                |   66.67 |   98.46 | 
 src/schema/message.ts                               |  100.00 |  100.00 | 
 src/schema/messageServer.ts                         |  100.00 |  100.00 | 
 src/schema/participant.ts                           |   80.00 |  100.00 | 
 src/schema/relationship.ts                          |   80.00 |  100.00 | 
 src/schema/room.ts                                  |   60.00 |  100.00 | 
 src/schema/serverAgent.ts                           |  100.00 |  100.00 | 
 src/schema/tasks.ts                                 |  100.00 |  100.00 | 
 src/schema/world.ts                                 |   66.67 |  100.00 | 
 src/utils.ts                                        |  100.00 |  100.00 | 
-----------------------------------------------------|---------|---------|-------------------

 417 pass
 1 skip
 11 fail
 930 expect() calls
Ran 429 tests across 41 files. [143.71s]
