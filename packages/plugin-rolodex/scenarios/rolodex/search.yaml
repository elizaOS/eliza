name: "Entity Search"
description: "Test natural language entity search"
characters:
  - user
  - agent

setup:
  - action: user
    message: "Track Alice Johnson - she's a software engineer at Google working on distributed systems"
    
  - action: agent
    expectation:
      response:
        contains: "tracked"
        
  - action: user
    message: "Track Bob Smith - he's a UX designer at Meta focused on AR interfaces"
    
  - action: agent
    expectation:
      response:
        contains: "tracked"
        
  - action: user
    message: "Track Charlie Davis - founder of TechStartup, building AI tools for education"
    
  - action: agent
    expectation:
      response:
        contains: "tracked"

scenario:
  - action: user
    message: "Who do I know in tech?"
    
  - action: agent
    expectation:
      response:
        contains: ["Alice", "Bob", "Charlie"]
        
  - action: user
    message: "Find all engineers"
    
  - action: agent
    expectation:
      response:
        contains: "Alice"
        excludes: ["Bob", "Charlie"]
        
  - action: user
    message: "Who works at big tech companies?"
    
  - action: agent
    expectation:
      response:
        contains: ["Alice", "Google", "Bob", "Meta"]
        excludes: "Charlie" 